
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>The long way through Software Craftsmanship</title>
  <meta name="author" content="alvaro garcia">

  
  <meta name="description" content="Books I&rsquo;ve read this quarter1: Practical Object-Oriented Design in Ruby, An Agile Primer (POODR) by Sandi Metz, with the &lsquo;@deAprendices& &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://alvarogarcia7.github.io">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/stylesheets/data-table.css" media="screen, projection" rel="stylesheet" type="text/css" />
  <link href="/atom.xml" rel="alternate" title="The long way through Software Craftsmanship" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-41008374-3', 'auto');
    ga('send', 'pageview');

  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">The long way through Software Craftsmanship</a></h1>
  
</hgroup>

</header>
  <nav role="navigation"><script type="text/javascript">
    function addCustomSite(form_) {
        var input = $(form_).find("input")[0];
        input.value = "site:alvarogarcia7.github.io " + input.value;
    }
</script>

<ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get" onsubmit="javascript: addCustomSite(this);">
  <fieldset role="search">
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/talks">Talks / Events</a></li>
  <li><a href="/blog/categories">Categories</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/blog/about">About</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/12/31/books-read-in-2015q4/">Books Read in 2015Q4</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-12-31T10:49:50+00:00'><span class='date'><span class='date-month'>Dec</span> <span class='date-day'>31</span><span class='date-suffix'>st</span>, <span class='date-year'>2015</span></span> <span class='time'>10:49 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Books I&rsquo;ve read this quarter<sup id="fnref:1"><a href="#fn:1" rel="footnote">1</a></sup>:</p>

<ul>
<li><a href="http://www.poodr.com/">Practical Object-Oriented Design in Ruby, An Agile Primer (POODR)</a> by Sandi Metz, with the &lsquo;<a href="https://twitter.com/@deaprendices">@deAprendices</a>&rsquo;s reading club&rsquo;. Blog posts under the tag <a href="/blog/categories/poodr">poodr</a>.</li>
</ul>


<p>Books started, not yet finished (WIP):</p>

<ul>
<li><a href="http://haskellbook.com/">Haskell Programming</a>, By Chris Allen and Julie Moronuki. This book is still in progress and I&rsquo;m reviewing it</li>
<li><a href="https://pragprog.com/book/ahptl/pragmatic-thinking-and-learning">Pragmatic Thinking and Learning: Refactor Your Wetware</a> by Andy Hunt</li>
<li><a href="http://mitpress.mit.edu/sicp/">Structure and Interpretation of Computer Programs</a> by Abelson, Sussman, and Sussman, with the &lsquo;<a href="https://twitter.com/@deaprendices">@deAprendices</a>&rsquo;s reading club&rsquo;. Blog posts under the tag <a href="/blog/categories/sicp">sicp</a>.</li>
</ul>


<p>Books I want to finish:
  * <a href="https://leanpub.com/leprechauns">The Leprechauns of Software Engineering</a> by Laurent Bossavit, again. <a href="https://twitter.com/alvarobiz/status/611799849911103488">Gift</a><br/>
  * <a href="https://pragprog.com/book/mbfpp/functional-programming-patterns-in-scala-and-clojure">Functional Programming Patterns in Scala and Clojure</a> by Michael Bevilacqua-Linn</p>

<p>Books that have entered the queue:</p>

<ul>
<li><a href="http://cs.brown.edu/~sk/Publications/Books/ProgLangs/2007-04-26/">Programming Languages: Application and Interpretation</a> by Shriram Krishnamurthi</li>
<li><a href="https://www.nostarch.com/doingmathwithpython">Doing Math with Python</a> by Amit Saha. <a href="https://twitter.com/alvarobiz/status/668927802159288322">Gift from the PyConEs 2015</a></li>
<li><a href="http://www.geraldmweinberg.com/Site/Perfect_Software.html">Perfect Software: And Other Illusions about Testing</a> by Gerald M. Weinberg</li>
<li><a href="http://shop.oreilly.com/product/0636920033158.do">Building Microservices, Designing Fine-Grained Systems</a> by Sam Newman</li>
<li><a href="https://mitpress.mit.edu/books/computability-and-complexity">Computability and Complexity - From a Programming Perspective</a> by Neil Deaton Jones</li>
<li><a href="http://thinking-forth.sourceforge.net/">Thinking Forth: a language and philosophy for solving problems</a> by Leo Brodie</li>
<li><a href="https://mitpress.mit.edu/index.php?q=books/concepts-techniques-and-models-computer-programming">Concepts, Techniques, and Models of Computer Programming</a> by Peter Van Roy and Seif Haridi</li>
<li><a href="http://books.gojko.net/bridging-the-communication-gap/">Bridging the Communication Gap</a> by Gojko Adzic</li>
<li><a href="http://books.gojko.net/specification-by-example/">Specification by Example</a> by Gojko Adzic</li>
<li><a href="https://pragprog.com/book/hwcuc/the-cucumber-book">The Cucumber book</a> by Matt Wynne and Aslak Helles√∏y</li>
<li><a href="https://leanpub.com/software-architecture-for-developers">Software Architecture for Developers</a> by Simon Brown</li>
<li><a href="http://www.amazon.com/Object-Design-Roles-Responsibilities-Collaborations/dp/0201379430">Object Design: Roles, Responsibilities, and Collaborations </a> by Rebecca Wirfs-Brock and Alan McKean</li>
</ul>

<div class="footnotes">
<hr/>
<ol>
<li id="fn:1">
<p>The ending date of the quarter is the same as the publication date<a href="#fnref:1" rev="footnote">&#8617;</a></p></li>
</ol>
</div>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/12/15/validating-data-clojure/">Validating CSV Data in Clojure</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-12-15T10:52:28+00:00'><span class='date'><span class='date-month'>Dec</span> <span class='date-day'>15</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>10:52 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>At a client, we have CSVs of data that can be simplified to this <sup id="fnref:1"><a href="#fn:1" rel="footnote">1</a></sup>:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='lisp'><span class='line'><span class="p">(</span><span class="nv">def</span> <span class="nv">data</span> <span class="nv">[</span>
</span><span class='line'>           <span class="nv">[</span><span class="s">&quot;total&quot;</span> <span class="mi">6</span> <span class="mi">8</span> <span class="nv">13]</span>
</span><span class='line'>           <span class="nv">[</span><span class="s">&quot;0&quot;</span>     <span class="mi">1</span> <span class="mi">2</span> <span class="nv">3]</span>
</span><span class='line'>           <span class="nv">[</span><span class="s">&quot;0&quot;</span>     <span class="mi">2</span> <span class="mi">0</span> <span class="nv">4]</span>
</span><span class='line'>           <span class="nv">[</span><span class="s">&quot;0&quot;</span>     <span class="mi">3</span> <span class="mi">0</span> <span class="nv">6]</span>
</span><span class='line'>          <span class="nv">]</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>In this case, some of the row named <code>total</code> is the sum of the rest of the rows, but only for some columns (second and fourth). We do not want to get rid of the columns, as they need to be printed at the end.</p>

<p>This is what we need to validate:</p>

<p><code>sum (rest [1]) = total [1]</code></p>

<p><code>sum (rest [3]) = total [3]</code></p>

<p>this could be written as a one-off program but a better alternative for us was to write a program and let users decide what columns to validate. In the future, power users will write their own validations <sup id="fnref:2"><a href="#fn:2" rel="footnote">2</a></sup>, thus creating an environment where users are no longer dependent on programmers as coupling business users to programmers does not scale.</p>

<h2>Implementation</h2>

<p>The full <a href="https://github.com/alvarogarcia7/clojure-simple-sessions/blob/master/test/simple/check-data-with-hofs.clj">source code is here</a></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='lisp'><span class='line'><span class="p">(</span><span class="nv">defn</span> <span class="nv">sum-eq-total</span> <span class="nv">[selector</span> <span class="nv">dataset]</span>
</span><span class='line'>  <span class="p">(</span><span class="nv">letfn</span> <span class="nv">[</span><span class="p">(</span><span class="nv">total-and-rest</span> <span class="nv">[coll]</span>
</span><span class='line'>             <span class="nv">[</span><span class="p">(</span><span class="nb">first</span> <span class="nv">coll</span><span class="p">)</span> <span class="p">(</span><span class="nb">rest</span> <span class="nv">coll</span><span class="p">)</span><span class="nv">]</span><span class="p">)</span><span class="nv">]</span>
</span><span class='line'>  <span class="p">(</span><span class="k">let</span> <span class="nv">[[total</span> <span class="nv">rest-dataset]</span> <span class="p">(</span><span class="nv">total-and-rest</span> <span class="nv">dataset</span><span class="p">)</span>
</span><span class='line'>        <span class="nv">selected-total</span> <span class="p">(</span><span class="nv">selector</span> <span class="nv">total</span><span class="p">)</span>
</span><span class='line'>        <span class="nv">selected-column</span> <span class="p">(</span><span class="nb">map</span> <span class="nv">selector</span> <span class="nv">rest-dataset</span><span class="p">)</span>
</span><span class='line'>        <span class="nv">sum-of-column</span> <span class="p">(</span><span class="nb">reduce</span> <span class="nb">+</span> <span class="nv">selected-column</span><span class="p">)</span><span class="nv">]</span>
</span><span class='line'>        <span class="p">(</span><span class="nb">=</span> <span class="nv">selected-total</span> <span class="nv">sum-of-column</span><span class="p">))))</span>
</span><span class='line'>
</span><span class='line'><span class="p">(</span><span class="nv">defn</span> <span class="nv">validate-columns</span> <span class="nv">[indices</span> <span class="nv">data]</span>
</span><span class='line'>  <span class="p">(</span><span class="k">let</span> <span class="nv">[generate-selector</span> <span class="o">#(</span><span class="nv">fn</span> <span class="nv">[dataset]</span> <span class="p">(</span><span class="nb">nth</span> <span class="nv">dataset</span> <span class="nv">%</span><span class="p">))</span>
</span><span class='line'>         <span class="nv">selectors</span> <span class="p">(</span><span class="nb">map</span> <span class="nv">generate-selector</span> <span class="nv">indices</span><span class="p">)</span>
</span><span class='line'>         <span class="nv">check-selector</span> <span class="o">#(</span><span class="nv">sum-eq-total</span> <span class="nv">%</span> <span class="nv">data</span><span class="p">)</span><span class="nv">]</span>
</span><span class='line'>         <span class="p">(</span><span class="nb">map</span> <span class="nv">check-selector</span> <span class="nv">selectors</span><span class="p">)))</span>
</span></code></pre></td></tr></table></div></figure>


<p>We define the domain concept of <code>selector</code> for pointing to a dataset column</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='lisp'><span class='line'><span class="nv">generate-selector</span> <span class="o">#(</span><span class="nv">fn</span> <span class="nv">[dataset]</span> <span class="p">(</span><span class="nb">nth</span> <span class="nv">dataset</span> <span class="nv">%</span><span class="p">))</span>
</span></code></pre></td></tr></table></div></figure>


<p>This expression creates selectors based on a given index. It is a lambda that returns a function, thus being a HOF</p>

<p>Users can use the application in this fashion:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='lisp'><span class='line'><span class="nv">simple.core=&gt;</span> <span class="p">(</span><span class="nv">validate-columns</span> <span class="nv">[1</span> <span class="nv">3]</span> <span class="nv">data</span><span class="p">)</span>
</span><span class='line'><span class="p">(</span><span class="nv">true</span> <span class="nv">true</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>The full <a href="https://github.com/alvarogarcia7/clojure-simple-sessions/blob/master/test/simple/check-data-with-hofs.clj">source code is here</a></p>

<h2>Conclusion</h2>

<p>Working on the REPL for this problem has been a very good idea, but working in a spreadsheet software has been even better. Even faster feedback cycle <sup id="fnref:3"><a href="#fn:3" rel="footnote">3</a></sup>.</p>

<p>The inclusion of the HOF for validating the data has paid its cost (good RoI)</p>

<p>Do not limit what your users can do, let them decide but do not complicate things unnecessarily. Know when to stop adding features and limit work to prevent YAGNI.</p>
<div class="footnotes">
<hr/>
<ol>
<li id="fn:1">
<p>for more information and a spike on reading CSV data in clojure, <a href="https://github.com/alvarogarcia7/clojure-simple-sessions/blob/master/src/simple/check-media-csv.clj">this spike</a> may be useful<a href="#fnref:1" rev="footnote">&#8617;</a></p></li>
<li id="fn:2">
<p>for the time being, there are no power users and no need to enable these custom validators. Doing it now would be YAGNI<a href="#fnref:2" rev="footnote">&#8617;</a></p></li>
<li id="fn:3">
<p>in the case here, the data and business rules are so simple that there is no need for this software.<a href="#fnref:3" rev="footnote">&#8617;</a></p></li>
</ol>
</div>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/12/08/clojure-and-the-macro-and/">Clojure and the Macro And</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-12-08T15:37:28+00:00'><span class='date'><span class='date-month'>Dec</span> <span class='date-day'>8</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>3:37 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>While on the REPL, I tried this:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='lisp'><span class='line'><span class="nv">simple.core=&gt;</span> <span class="p">(</span><span class="nb">reduce</span> <span class="nb">and</span> <span class="nv">true</span> <span class="nv">[true]</span><span class="p">)</span>
</span><span class='line'><span class="nv">CompilerException</span> <span class="nv">java.lang.RuntimeException:</span> <span class="nv">Can</span><span class="ss">&#39;t</span> <span class="nv">take</span> <span class="nv">value</span> <span class="nv">of</span> <span class="nv">a</span> <span class="nv">macro:</span> <span class="nf">#&#39;</span><span class="nv">clojure.core/and,</span> <span class="nv">compiling:</span><span class="p">(</span><span class="nv">form-init7116694665186998245.clj:1:1</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>Reading the <a href="https://clojuredocs.org/clojure.core/and">clojuredocs for <code>and</code></a>, you can find this:</p>

<blockquote><p>Note add is a macro, so you cannot apply it. For example, there is a vector of some Boolean values [true true false true], which you want to test to see if they are all true. The code below will not work:</p>

<p>(apply add [true true false true]) ;won&rsquo;t work</p>

<p>Instead, use this:</p>

<p>(every? identity [true  true false true])</p></blockquote>

<p>I tried it with success. Digging a bit deeper:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='lisp'><span class='line'><span class="nv">simple.core=&gt;</span> <span class="p">(</span><span class="nv">defn</span> <span class="nv">all-truthy?</span> <span class="nv">[&amp;</span> <span class="nv">elements]</span> <span class="p">(</span><span class="nv">every?</span> <span class="nb">identity</span> <span class="nv">elements</span><span class="p">))</span>
</span><span class='line'><span class="nf">#&#39;</span><span class="nv">simple.core/all-truthy?</span>
</span><span class='line'><span class="nv">simple.core=&gt;</span> <span class="p">(</span><span class="nv">all-truthy?</span> <span class="no">nil</span> <span class="nv">false</span><span class="p">)</span>
</span><span class='line'><span class="nv">false</span>
</span><span class='line'><span class="nv">simple.core=&gt;</span> <span class="p">(</span><span class="nv">all-truthy?</span> <span class="no">nil</span> <span class="mi">0</span><span class="p">)</span>
</span><span class='line'><span class="nv">false</span>
</span><span class='line'><span class="nv">simple.core=&gt;</span> <span class="p">(</span><span class="nv">all-truthy?</span> <span class="no">nil</span> <span class="mi">1</span><span class="p">)</span>
</span><span class='line'><span class="nv">false</span>
</span><span class='line'><span class="nv">simple.core=&gt;</span> <span class="p">(</span><span class="nv">all-truthy?</span> <span class="mi">2</span> <span class="mi">1</span><span class="p">)</span>
</span><span class='line'><span class="nv">true</span>
</span><span class='line'><span class="nv">simple.core=&gt;</span> <span class="p">(</span><span class="nv">all-truthy?</span> <span class="nv">[nil</span> <span class="nv">false]</span><span class="p">)</span>
</span><span class='line'><span class="nv">true</span>
</span></code></pre></td></tr></table></div></figure>


<p>Was also tempted to try this:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='lisp'><span class='line'><span class="nv">simple.core=&gt;</span> <span class="p">(</span><span class="nb">reduce</span> <span class="p">(</span><span class="nv">fn</span> <span class="nv">[acc</span> <span class="nv">element]</span> <span class="p">(</span><span class="nb">and</span> <span class="nv">acc</span> <span class="nv">element</span><span class="p">))</span> <span class="nv">true</span> <span class="nv">[true</span> <span class="nv">true</span> <span class="nv">false</span> <span class="nv">true]</span><span class="p">)</span>
</span><span class='line'><span class="nv">false</span>
</span><span class='line'><span class="nv">simple.core=&gt;</span> <span class="p">(</span><span class="nb">reduce</span> <span class="p">(</span><span class="nv">fn</span> <span class="nv">[acc</span> <span class="nv">element]</span> <span class="p">(</span><span class="nb">and</span> <span class="nv">acc</span> <span class="nv">element</span><span class="p">))</span> <span class="nv">true</span> <span class="nv">[true</span> <span class="nv">true</span> <span class="nv">true</span> <span class="nv">true]</span><span class="p">)</span>
</span><span class='line'><span class="nv">true</span>
</span></code></pre></td></tr></table></div></figure>


<p>Encapsulate it into a function:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='lisp'><span class='line'><span class="nv">simple.core=&gt;</span> <span class="p">(</span><span class="nv">defn</span> <span class="nv">all-true</span> <span class="nv">[&amp;</span> <span class="nv">elements]</span> <span class="p">(</span><span class="nb">reduce</span> <span class="p">(</span><span class="nv">fn</span> <span class="nv">[acc</span> <span class="nv">element]</span> <span class="p">(</span><span class="nb">and</span> <span class="nv">acc</span> <span class="nv">element</span><span class="p">))</span> <span class="nv">true</span> <span class="nv">elements</span><span class="p">))</span>
</span><span class='line'><span class="nf">#&#39;</span><span class="nv">simple.core/all-true</span>
</span><span class='line'><span class="nv">simple.core=&gt;</span> <span class="p">(</span><span class="nv">all-true</span> <span class="nv">true</span><span class="p">)</span>
</span><span class='line'><span class="nv">true</span>
</span><span class='line'><span class="nv">simple.core=&gt;</span> <span class="p">(</span><span class="nv">all-true</span> <span class="nv">true</span> <span class="nv">false</span><span class="p">)</span>
</span><span class='line'><span class="nv">false</span>
</span><span class='line'><span class="nv">simple.core=&gt;</span> <span class="p">(</span><span class="nv">all-true</span> <span class="nv">true</span> <span class="nv">false</span> <span class="nv">true</span><span class="p">)</span>
</span><span class='line'><span class="nv">false</span>
</span></code></pre></td></tr></table></div></figure>


<p>What happens with the non-boolean values?</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='lisp'><span class='line'><span class="nv">simple.core=&gt;</span> <span class="p">(</span><span class="nv">all-true</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span><span class="p">)</span>
</span><span class='line'><span class="mi">3</span>
</span><span class='line'><span class="nv">simple.core=&gt;</span> <span class="p">(</span><span class="nv">all-true</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">76</span><span class="p">)</span>
</span><span class='line'><span class="mi">76</span>
</span><span class='line'><span class="nv">simple.core=&gt;</span> <span class="p">(</span><span class="nv">all-true</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">64</span><span class="p">)</span>
</span><span class='line'><span class="mi">64</span>
</span><span class='line'><span class="nv">simple.core=&gt;</span> <span class="p">(</span><span class="nv">all-true</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">64</span><span class="p">)</span>
</span><span class='line'><span class="mi">64</span>
</span></code></pre></td></tr></table></div></figure>


<p>This is because:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='lisp'><span class='line'><span class="nv">simple.core=&gt;</span> <span class="p">(</span><span class="nb">and</span> <span class="mi">64</span> <span class="mi">3</span><span class="p">)</span>
</span><span class='line'><span class="mi">3</span>
</span><span class='line'><span class="nv">simple.core=&gt;</span> <span class="p">(</span><span class="nb">and</span> <span class="mi">3</span> <span class="mi">64</span><span class="p">)</span>
</span><span class='line'><span class="mi">64</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Conclusion</h2>

<p><code>all-truthy?</code> exploits the falsy values in clojure (<code>nil</code>, <code>false</code>), while <code>all-true</code> uses the true boolean values, although the function does not work properly with non-boolean values (i.e. its domain is the booleans)</p>

<h2>Appendix A: Source code</h2>

<p><code>and</code>:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='lisp'><span class='line'><span class="nv">simple.core=&gt;</span> <span class="p">(</span><span class="nv">source</span> <span class="nb">and</span><span class="p">)</span>
</span><span class='line'><span class="p">(</span><span class="nb">defmacro</span> <span class="nb">and</span>
</span><span class='line'>  <span class="s">&quot;Evaluates exprs one at a time, from left to right. If a form</span>
</span><span class='line'><span class="s">  returns logical false (nil or false), and returns that value and</span>
</span><span class='line'><span class="s">  doesn&#39;t evaluate any of the other expressions, otherwise it returns</span>
</span><span class='line'><span class="s">  the value of the last expr. (and) returns true.&quot;</span>
</span><span class='line'>  <span class="nv">{:added</span> <span class="s">&quot;1.0&quot;</span><span class="nv">}</span>
</span><span class='line'>  <span class="p">(</span><span class="nv">[]</span> <span class="nv">true</span><span class="p">)</span>
</span><span class='line'>  <span class="p">(</span><span class="nv">[x]</span> <span class="nv">x</span><span class="p">)</span>
</span><span class='line'>  <span class="p">(</span><span class="nv">[x</span> <span class="nv">&amp;</span> <span class="nv">next]</span>
</span><span class='line'>   <span class="o">`</span><span class="p">(</span><span class="k">let</span> <span class="nv">[and#</span> <span class="nv">~x]</span>
</span><span class='line'>      <span class="p">(</span><span class="k">if</span> <span class="nv">and#</span> <span class="p">(</span><span class="nb">and</span> <span class="nv">~@next</span><span class="p">)</span> <span class="nv">and#</span><span class="p">))))</span>
</span></code></pre></td></tr></table></div></figure>


<p><code>identity</code>:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='lisp'><span class='line'><span class="nv">simple.core=&gt;</span> <span class="p">(</span><span class="nv">source</span> <span class="nb">identity</span><span class="p">)</span>
</span><span class='line'><span class="p">(</span><span class="nv">defn</span> <span class="nb">identity</span>
</span><span class='line'>  <span class="s">&quot;Returns its argument.&quot;</span>
</span><span class='line'>  <span class="nv">{:added</span> <span class="s">&quot;1.0&quot;</span>
</span><span class='line'>   <span class="ss">:static</span> <span class="nv">true}</span>
</span><span class='line'>  <span class="nv">[x]</span> <span class="nv">x</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p><code>every</code>:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='lisp'><span class='line'><span class="nv">simple.core=&gt;</span> <span class="p">(</span><span class="nv">source</span> <span class="nv">every?</span><span class="p">)</span>
</span><span class='line'><span class="p">(</span><span class="nv">defn</span> <span class="nv">every?</span>
</span><span class='line'>  <span class="s">&quot;Returns true if (pred x) is logical true for every x in coll, else</span>
</span><span class='line'><span class="s">  false.&quot;</span>
</span><span class='line'>  <span class="nv">{:tag</span> <span class="nv">Boolean</span>
</span><span class='line'>   <span class="ss">:added</span> <span class="s">&quot;1.0&quot;</span>
</span><span class='line'>   <span class="ss">:static</span> <span class="nv">true}</span>
</span><span class='line'>  <span class="nv">[pred</span> <span class="nv">coll]</span>
</span><span class='line'>  <span class="p">(</span><span class="nb">cond</span>
</span><span class='line'>   <span class="p">(</span><span class="nv">nil?</span> <span class="p">(</span><span class="nv">seq</span> <span class="nv">coll</span><span class="p">))</span> <span class="nv">true</span>
</span><span class='line'>   <span class="p">(</span><span class="nv">pred</span> <span class="p">(</span><span class="nb">first</span> <span class="nv">coll</span><span class="p">))</span> <span class="p">(</span><span class="nv">recur</span> <span class="nv">pred</span> <span class="p">(</span><span class="nv">next</span> <span class="nv">coll</span><span class="p">))</span>
</span><span class='line'>   <span class="ss">:else</span> <span class="nv">false</span><span class="p">))</span>
</span></code></pre></td></tr></table></div></figure>


<p><code>-&gt;</code>:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class='lisp'><span class='line'><span class="nv">simple.core=&gt;</span> <span class="p">(</span><span class="nv">source</span> <span class="nv">-&gt;</span><span class="p">)</span>
</span><span class='line'><span class="p">(</span><span class="nb">defmacro</span> <span class="nv">-&gt;</span>
</span><span class='line'>  <span class="s">&quot;Threads the expr through the forms. Inserts x as the</span>
</span><span class='line'><span class="s">  second item in the first form, making a list of it if it is not a</span>
</span><span class='line'><span class="s">  list already. If there are more forms, inserts the first form as the</span>
</span><span class='line'><span class="s">  second item in second form, etc.&quot;</span>
</span><span class='line'>  <span class="nv">{:added</span> <span class="s">&quot;1.0&quot;</span><span class="nv">}</span>
</span><span class='line'>  <span class="nv">[x</span> <span class="nv">&amp;</span> <span class="nv">forms]</span>
</span><span class='line'>  <span class="p">(</span><span class="nb">loop</span> <span class="nv">[x</span> <span class="nv">x,</span> <span class="nv">forms</span> <span class="nv">forms]</span>
</span><span class='line'>    <span class="p">(</span><span class="k">if</span> <span class="nv">forms</span>
</span><span class='line'>      <span class="p">(</span><span class="k">let</span> <span class="nv">[form</span> <span class="p">(</span><span class="nb">first</span> <span class="nv">forms</span><span class="p">)</span>
</span><span class='line'>            <span class="nv">threaded</span> <span class="p">(</span><span class="k">if</span> <span class="p">(</span><span class="nv">seq?</span> <span class="nv">form</span><span class="p">)</span>
</span><span class='line'>                       <span class="p">(</span><span class="nv">with-meta</span> <span class="o">`</span><span class="p">(</span><span class="nv">~</span><span class="p">(</span><span class="nb">first</span> <span class="nv">form</span><span class="p">)</span> <span class="nv">~x</span> <span class="nv">~@</span><span class="p">(</span><span class="nv">next</span> <span class="nv">form</span><span class="p">))</span> <span class="p">(</span><span class="nv">meta</span> <span class="nv">form</span><span class="p">))</span>
</span><span class='line'>                       <span class="p">(</span><span class="nb">list</span> <span class="nv">form</span> <span class="nv">x</span><span class="p">))</span><span class="nv">]</span>
</span><span class='line'>        <span class="p">(</span><span class="nv">recur</span> <span class="nv">threaded</span> <span class="p">(</span><span class="nv">next</span> <span class="nv">forms</span><span class="p">)))</span>
</span><span class='line'>      <span class="nv">x</span><span class="p">)))</span>
</span></code></pre></td></tr></table></div></figure>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/12/02/tip-automate-the-blog-publishing/">Tip: Automate the Blog Publishing</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-12-02T18:10:40+00:00'><span class='date'><span class='date-month'>Dec</span> <span class='date-day'>2</span><span class='date-suffix'>nd</span>, <span class='date-year'>2015</span></span> <span class='time'>6:10 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I&rsquo;ve automated the generation of the blog using <a href="https://travis-ci.org/">Travis CI</a>. Using this new way, each commit generates a new version of the pages.</p>

<p>These resources have been very useful:</p>

<ul>
<li><a href="http://darvin.github.io/2013/01/13/Prose_Octopress_TravisIO">Prose.io + Octopress + Travis-CI + GitHub Pages = ‚ô•</a>. First post (in this set) that explains how this automation is possible</li>
<li><a href="https://harimenon.com/blog/2013/01/27/auto-deploying-to-my-octopress-blog/">Auto-deploying to My Octopress Blog With Travis-CI</a>. Explains how to generate your key, encript it with travis</li>
<li><a href="http://blog.yasuoza.com/2014/01/13/octopress-plus-github-pages-plus-travis/">Octopress + GitHub Pages + Travis</a>: The most useful page, explains step by step what to do for mac and linux.</li>
<li><a href="https://disqus.com/home/discussion/codez/octopressprosegithubtravis_ci_coders_blog_human_not_octopus/">Octopress+Prose+Github+Travis CI = coders' blog - Human, not octopus</a>.Altough the page is not available anymore, this discussion explains why it is safe to store your private key in the file <code>.travis.yml</code>.</li>
</ul>


<p><a href="https://github.com/floydpink?tab=repositories">An example</a> of the resulting repository, by <a href="https://github.com/floydpink">Hari Menon</a>.</p>

<h2>My own modifications</h2>

<p>The full diff for making this change is <a href="https://github.com/alvarogarcia7/blog_source/compare/8414267a1e8e1f0ef588602121f32da3f6eb9f9e...9f60c76d6d9faca8cff8bce2f0a00bf8f2eafb30">here</a>. Disregard the changes in:</p>

<ul>
<li><code>partial/1444939871_diff.txt</code></li>
<li><code>partial/1444939871_msg.txt</code></li>
<li><code>source/_posts/2015-12-02-self-study-in-december-2015.markdown</code></li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/12/02/self-study-in-december-2015/">Self-Study in December 2015</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-12-02T07:50:19+00:00'><span class='date'><span class='date-month'>Dec</span> <span class='date-day'>2</span><span class='date-suffix'>nd</span>, <span class='date-year'>2015</span></span> <span class='time'>7:50 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>Ruby Equality And Object Comparison</h2>

<p>I&rsquo;ve read <a href="http://www.skorks.com/2009/09/ruby-equality-and-object-comparison/">this article</a>, written by Alan Skorkin, that explains equality comparisons in ruby:</p>

<ul>
<li>equal? is reference equality</li>
<li>== is value equality</li>
<li>eql? is value and type equality</li>
</ul>


<p>Tags: ruby, comparison, equality, object, reference, alan-skorkin</p>

<h2>Software Folklore</h2>

<p>I&rsquo;ve watched <a href="https://www.thoughtworks.com/insights/blog/software-folklore">this PechaKucha</a> by Chris Ford on what are laws and how they relate to creating software. Also talks on what could be an analogy to software creation (says not science, not engineering)</p>

<p>Tags: folklore, chris-ford, analogy, computer-science, pechakucha, software-engineering, software-creation, law</p>

<h2>3 Things Java Programmers Can Steal from Clojure</h2>

<p>I&rsquo;ve read <a href="http://www.lispcast.com/3-things-java-can-steal-from-clojure">this article</a> by Eric Normand, where he explains 3 clojure things that can be applied to your day to day java:</p>

<ol>
<li>Persistent Data Structures</li>
<li>Software Transactional Memory</li>
<li>Extensible Data Notation</li>
</ol>


<p>Tags: clojure, java, eric-normand, stm, edn</p>

<h2>2 Features of Clojure Editors Professionals Won&rsquo;t Do Without</h2>

<p>I&rsquo;ve read <a href="http://www.lispcast.com/clojure-editors">this article</a> by Eric Normand, where he explains the most necessary features for a clojure editor:</p>

<ol>
<li>REPL Integration</li>
<li>Structural Editing</li>
</ol>


<p>Tags: clojure, java, eric-normand, stm, edn</p>

<h2>How to read more books</h2>

<p>I&rsquo;ve read <a href="http://verraes.net/2012/12/how-to-read-more-books/">this article</a> by Mathias Verraes on tips to read more books:</p>

<ul>
<li>Negative things to stop doing</li>
<li>Positive things to start doing</li>
<li>Habits to form</li>
</ul>


<p>Tags: mathias-verraes, reading, book</p>

<h2>Effective Learning Strategies for Programmers</h2>

<p>I&rsquo;ve read <a href="http://akaptur.com/blog/2015/10/10/effective-learning-strategies-for-programmers/">this article</a> by Allison Kaptur on fixed vs growth mindset and the need for having the latter for being a programmer.</p>

<p>Especially interesting is the provided example of the confusion in the documentation, that can hinder productivity</p>

<p>Tags: allison-kaptur, fixed-mindset, growth-mindset, research, learning-strategy, recurse-center, carol-dweck, mindset</p>

<h2>Code a fully-functional web app in 14 days‚Ä¶ - Challenge Accepted</h2>

<p>I&rsquo;ve read <a href="https://medium.com/@OggimusPrime/code-a-fully-functional-web-app-in-14-days-e247f536772d">this experience report</a> on how Ryan Haase and Benjamin Hoffman built an MVP in 14 days. They describe their stack choices, gotchas and key points.</p>

<p>Tags: ryan-haase, benjamin-hoffman, mvp, angular, firebase, challenge</p>

<h2>Writing-Clear-Code, Not-Clever-Code</h2>

<p>I&rsquo;ve-read <a href="https://medium.com/@mikesherov/writing-clear-code-not-clever-code-d6b90353a3c5">this-article</a> by-Mike-Sherov-where-he-explains-the-reflection-he-did-since-his-team-members-were-asking-too-much-about-his-code. His-conclusion-was-to-stop-reducing-the-size-of-the-code-to-improve-readability.</p>

<p>Tags: mike-sherov, clean-code,clear-code, clever-code, reflection, team, code</p>

<h2>En vez de ‚Äúun Scrum por proyecto‚Äù mejor un ‚ÄúScrum por equipo‚Äù</h2>

<p>I&rsquo;ve read <a href="http://www.javiergarzas.com/2015/12/alejate-del-concepto-proyecto-si-quieres-usar-bien-scrum-22-adaptar-scrum-segun-cada-proyecto.html">this article</a> where Javier Garz√°s explains scrum by teams or by projects and why the former should be preferred (in Spanish).</p>

<p>Tags:  javier-garzas, scrum, project-management, team, agile</p>

<h2>Application gateways: an example in Clojure</h2>

<p>I&rsquo;ve read <a href="http://blog.obliquo.eu/post/134421923177/application-gateways-an-example-in-clojure">this example</a> that Cristobal Garcia prepared for me after asking for it at the local Barcelona Software Craftsmanship community (Many thanks!).</p>

<p>He describes what an application gateway is, giving an example in clojure. In this case, the application gateway is used to cache and forward/deny requests to another webservice.</p>

<p>Tags: cristobal-garcia, application-gateway, clojure, example, level-7-firewall, barcelona-software-craftsmanship, scbcn, gift</p>

<h2>Habits For Effective Refactoring</h2>

<p>I&rsquo;ve watched <a href="https://www.youtube.com/watch?v=THw8t7ePlsc">this video</a> by Jason Gorman about techniques for effective and sustainable refactoring. Among them:</p>

<ul>
<li>check the tests, the coverage to make sure that the refactored code has a good safety net</li>
<li>set a refactoring goal: decide what you want to refactor at this time and when you&rsquo;ll be done</li>
<li>know your code smells</li>
<li>only refactor on green</li>
<li>use automated refactoring steps whenever possible: for the benefits of transactionability and undo are huge and the risk of messing it up decreases</li>
<li>commit after achieving the refactoring goal: allows to create a checkpoint to revert to</li>
<li>bottle the code smells for faster/better learning (in the commit message, he uses a hashtag for searching)</li>
</ul>


<p>Tags: jason-gorman, refactoring, video, technique, refactor, tutorial, code-smell</p>

<h2>Key to &ldquo;OEIS.org&rdquo; Poster, n. 15</h2>

<p>I&rsquo;ve read <a href="http://oeisf.org/Poster15a_key.pdf">the 15th &ldquo;poster and its key&rdquo;</a> by the OEIS, published by N. J. A. Sloane.</p>

<p>Tags: sloane, oeis, poster-and-key, neil-sloane</p>

<h2>The Clojure Style Guide</h2>

<p>I&rsquo;ve read <a href="https://github.com/bbatsov/clojure-style-guide">this style guide</a> to clojure, by Bozhidar Batsov</p>

<p>Tags: bozhidar-batsov, clojure, style-guide</p>

<h2>Marick&rsquo;s Midje information</h2>

<ul>
<li><a href="https://github.com/marick/Midje/wiki/Writing-your-own-checkers">Custom checkers</a></li>
<li><a href="https://github.com/marick/Midje/wiki/Two-words-you-need-to-know">Domain concepts</a></li>
<li><a href="https://github.com/marick/Midje/wiki/Top-down-testing">Top-down testing</a></li>
<li><a href="https://github.com/marick/Midje/wiki/Nested-checkers">Nested checkers</a></li>
</ul>


<h2>Clusterware 11gR2 ‚Äì Setting up an Active/Passive failover configuration</h2>

<p>I&rsquo;ve read <a href="https://blogs.oracle.com/xpsoluxdb/entry/clusterware_11gr2_setting_up_an_activepassive_failover_configuration">this how-to guide</a> by Gilles Haro on how to create an Active/Passive failover configuration for Oracle.</p>

<p>Tags: failover, high-availability, oracle, gilles-haro, active-passive, database</p>

<h2>Old stuff that rocks</h2>

<p>I&rsquo;ve read <a href="https://wincent.com/blog/old-stuff-that-rocks">this list</a> of old technologies that still rock, according to Greg Hurrell.</p>

<p>Tags: list, old-stuff, greg-hurrell</p>

<h2>Do not underestimate credentials leaks</h2>

<p>I&rsquo;ve read <a href="https://github.com/ChALkeR/notes/blob/master/Do-not-underestimate-credentials-leaks.md">this article</a> that describes how credentials are usually accidentally leaked and a guide on what to do about it. By –°–∫–æ–≤–æ—Ä–æ–¥–∞ –ù–∏–∫–∏—Ç–∞ –ê–Ω–¥—Ä–µ–µ–≤–∏—á.</p>

<p>Tags: credential, leak, guide, how-to</p>

<h2>Clojure for the brave and true: chapter 8 - Writing Macros</h2>

<p>I&rsquo;ve read <a href="http://www.braveclojure.com/writing-macros">this chapter</a> from Daniel Higginbotham about macros in clojure. In it, he explains common gotchas (e.g., double execution, variable capture), splicing, quoting and unquoting.</p>

<p>Tags: daniel-higginbotham, clojure, macro, chapter, quoting, unquoting, splicing</p>

<h2>The Telescoping Constructor (Anti)Pattern</h2>

<p>I&rsquo;ve read <a href="http://www.captaindebug.com/2011/05/telescoping-constructor-antipattern.html#.ViF57eztmkp">this article</a> by Roger Hughes on the telescoping constructor, with the example in java. The discussion is whether to apply this or not and whether this is a pattern or an anti-pattern</p>

<p>Tags: roger-hughes, telescoping-constructor, java, pattern, antipattern</p>

<h2>Ruby for Newbies: Testing with Rspec</h2>

<p>I&rsquo;ve read <a href="http://code.tutsplus.com/tutorials/ruby-for-newbies-testing-with-rspec--net-21297">this tutorial</a> on how to make write tests with RSpec in Ruby. Written by Andrew Burgess</p>

<p>Tags: andrew-burgess, ruby, rspec, test, tutorial</p>

<h2>Ruby dynamic method calling</h2>

<p>I&rsquo;ve read <a href="http://blog.khd.me/ruby/ruby-dynamic-method-calling/">this article</a> about dynamically calling methods and a benchmark on three ways of doing it in Ruby:</p>

<ul>
<li>call</li>
<li>send</li>
<li>eval</li>
</ul>


<p>Tags: khell, metaprogramming, comparison, benchmark, ruby, evaluation, dynamic</p>

<h2>Becoming a CTO</h2>

<p>I&rsquo;ve read this article <a href="https://medium.com/@juokaz/becoming-a-cto-337dc1a9c6ae"></a> by Juozas Kaziukƒónas about the profile and the abilities of a CTO. Talks about the limiting factors for being one (e.g., stop programming, attend many meetings) and the type of work you are supposed to do (e.g., face business people, communicate the strategy, make yourself respectable).</p>

<p>Tags: juozas-kaziukenas, cto, career-change, technology, career, programmer, title, job</p>

<h2>4 Stages of Team Development</h2>

<p>I&rsquo;ve watched <a href="https://www.youtube.com/watch?feature=player_embedded&amp;v=7NouiH2ZT8w">this video</a> by the Glenn Smith &ldquo;Growth Coach Houston&rdquo; about the four stages of team development: forming, norming, storming, performing and how to get through them.</p>

<p>Tags: tuckman, forming, norming, storming, performing, glenn-smith, video, team-management, team</p>

<h2>Time Hacking for College Students</h2>

<p>I&rsquo;ve read <a href="https://goel.io/time-hacking/">this article</a> by Karan Goel about techniques for finding time for important things:</p>

<ul>
<li>prioritizing</li>
<li>waking up early</li>
<li>automate</li>
<li>keep learning</li>
</ul>


<p>Tags: karan-goel, time-management, important-vs-urgent, prioritization</p>

<h2>Clojure at a Real Estate Portal</h2>

<p>I&rsquo;ve read <a href="http://www.pitheringabout.com/?p=1069">this article</a> by Jon Pither, where he does a post-mortem analysis of a real-estate project with a fixed deadline (TV ads) with around ten months of development time. They brought in an external company, JUXT, who with 6 seasoned developers were able to finish the project on time and on budget.</p>

<p>Their stack was:  Ring, Compojure, Bidi, and http-kit for our Clojure web-apps, mixing in Friend and Liberator.</p>

<p>Tags: ring, compojure, bidi, http-kit, clojure, fixed-deadline, project, success-story, post-mortem, jon-pither</p>

<h2>Musing on TDD, Impulsive Developers and Aesthetics</h2>

<p>I&rsquo;ve read this article by Jon Pither on why TDD can be harmful sometimes:</p>

<ul>
<li>limits the amount of lateral thinking</li>
<li>forces a technology</li>
<li>limits the solution space given a fixed problem space</li>
<li>limits creativity and freedom when performing large / aggressive refactorings</li>
<li>sterile place</li>
</ul>


<p>while he agrees that can be useful sometimes:</p>

<ul>
<li>mostly in OOP</li>
<li>to keep you on the rails and focused</li>
</ul>


<p>Tags: tdd, jon-pither, senior-developer, junior-developer, aesthetics, lateral-thinking</p>

<h2>Fred George On Programmer Anarchy</h2>

<p>I&rsquo;ve read <a href="http://www.infoq.com/news/2012/02/programmer-anarchy">this article</a> by Roopesh Shenoy on a talk by Fred George: &ldquo;Programmer Anarchy&rdquo;, where programmers make business decisions based on business metrics set by clients, among other things.</p>

<p>Tags: roopesh-shenoy, fred-george, programmer-anarchy, analogy, anarchy, business-metric, client, agile, methodology</p>

<h2>Programmer Anarchy</h2>

<p>I&rsquo;ve read <a href="http://www.slideshare.net/fredgeorge/programmer-anarchy-chinese">these slides</a> by Fred George about programmer&rsquo;s anarchy. Commented in the article above</p>

<p>Tags: slide, fred-george, programmer-anarchy, analogy, anarchy, business-metric, client, agile, methodology</p>

<h2>What is Programmer Anarchy and does it have a future?</h2>

<p>I&rsquo;ve read <a href="http://martinjeeblog.com/2012/11/20/what-is-programmer-anarchy-and-does-it-have-a-future/">this article</a> by Martin Jee explaining what is programmer anarchy and how it compares to an agile team. Compares the division of labor structure in anarchist and agile teams, using Marxist terms.</p>

<p>He finishes saying that what is a powerful idea in this methodology is the taking of personal responsibilities by the programmers.</p>

<p>Tags: fred-george, programmer-anarchy, analogy, anarchy, martin-jee, agile, methodology</p>

<h2>Agile is the New Black</h2>

<p>I&rsquo;ve read <a href="http://www.slideshare.net/fredgeorge/agile-is-thenewblack">these slides</a> by Fred George where compares xp/agile development in 1999, 2006 and 2011.</p>

<p>Tags: fred-george, agile, methodology, comparison, slide</p>

<h2>Show How, Don&rsquo;t Tell What - A Management Style</h2>

<p>I&rsquo;ve read <a href="http://2ndscale.com/rtomayko/2012/management-style">this article</a> by Ryan Tomayko about the management style they apply at github:</p>

<blockquote><p>instead of telling them what to do, show people how to plan, build, and ship product together.</p>

<p>I‚Äôve never actually told anyone what to do here. In fact, I vehemently refuse to tell people what to do. Here are just a couple reasons why:</p>

<p>I don‚Äôt scale. If I tell someone what to do and they do it, then what? Do I have to tell them another thing to do? What happens when I have to decide what to do for 20 people?</p>

<p>Telling people what to do is lazy. Instead, try to convince them with argument. This is how humans interact when there‚Äôs no artificial authority structure and it works great. If you can‚Äôt convince people through argument then maybe you shouldn‚Äôt be doing it.</p></blockquote>

<p>about managers:</p>

<blockquote><p>It‚Äôs often cited that GitHub doesn‚Äôt have managers. In my opinion, a better way to describe the phenomenon would be to say that everyone at GitHub is a manager</p></blockquote>

<p>Tags: ryan-tomayko, management, management-style, team-management, github</p>

<h2>Clojure for the brave and true: chapter 7 - Clojure Alchemy: Reading, Evaluation, and Macros</h2>

<p>I&rsquo;ve read <a href="http://www.braveclojure.com/read-and-eval/">this chapter</a> from Daniel Higginbotham about the essential concepts for macros: the reader, the evaluator, their relative order and independence. How to use clojure to extend itself and an example: the thread (<code>-&gt;</code>) macro</p>

<p>Tags: daniel-higginbotham, clojure, macro, chapter, reader, evaluator</p>

<h2>Team Bus Factors: How to Reduce Them and How to Prevent Them</h2>

<p>I&rsquo;ve read <a href="http://5whys.com/blog/team-bus-factors-how-to-reduce-them-and-how-to-prevent-them.html">this article</a> by Roy Osherove on the bus factor:</p>

<ul>
<li>what is it</li>
<li>how to reduce them</li>
<li>how to prevent them</li>
</ul>


<p>Also talks about examples of bus-factor people</p>

<p>Tags: bus-factor, roy-osherove, team-management, prevention, reduction, definition</p>

<h2>Hambre de programar</h2>

<p>I&rsquo;ve read <a href="https://medium.com/@xav1uzz/hambre-de-programar-166aeae3b525">this article</a> (in Spanish) by Xavi Gost where he analyses the Barcelona Software Craftsmanship 2015: the events, the relationships and the passion that it has injected to attendees</p>

<p>Tags: xavi-gost, barcelona-software-craftsmanship, 2015, experience-report, scbcn15</p>

<h2>Software Craftsmanship Barcelona 2015</h2>

<p>I&rsquo;ve read <a href="http://www.idealista.com/labs/blog/idealista/software-craftsmanship-barcelona-2015/">this analysis</a> of the Barcelona Software Craftsmanship 2015 by the Idealista R&amp;D team.</p>

<p>Tags: jaime-perera, barcelona-software-craftsmanship, 2015, idealista, experience-report, scbcn15</p>

<h2>JVMLS 2015 - Compilers are Databases</h2>

<p>I&rsquo;ve watched <a href="https://www.youtube.com/watch?v=48js0H6ooBY">this video</a> by Martin Odersky on why compilers resemble databases and explains how a functional compiler works on the inside.</p>

<p>Explains the notion of a Type, Reference, Symbol, Denotation (and Multi-Denotation) living in the Abstract Syntax Tree (AST)</p>

<p>Also explains the need for a reading compiler (e.g., for quick validation in the IDE), single-pass and multi-pass compiler.</p>

<p>They have built phases to transform the source code into bytecode, but to better use the cache locality, they programmatically mix phases using Java Reflection (metaprogramming) to traverse the tree (AST) once for these selected phases.</p>

<p>Tags: type, reference, symbol, denotation, abstract-syntax-tree, ast, compiler, functional-compiler, scalac, dotty, martin-odersky, analogy, database</p>

<h2>In Functional Programming, what is a functor?</h2>

<p>I&rsquo;ve read <a href="http://stackoverflow.com/questions/2030863/in-functional-programming-what-is-a-functor/2031421#2031421">this answer</a> of what is a functor</p>

<p>Tags: stack-overflow, functor, answer, functional-programming</p>

<h2>Ten Habits of a Good Programmer</h2>

<p>I&rsquo;ve read <a href="http://hintjens.com/blog:98">this list</a> of good habits of good programmers by Pieter Hintjens:</p>

<ol>
<li>If it works and is still useful, don&rsquo;t throw it out.</li>
<li>Never solve the same problem twice in parallel.</li>
<li>Solve the same problem often in serial.</li>
<li>Write code, and repeat, until you are fluent in your language.</li>
<li>Learn to use code generators.</li>
<li>Work with others.</li>
<li>Technology is a tool, not a tribal affiliation.</li>
<li>Aim for this cycle: learn, play, work, teach.</li>
<li>Get your edit-compile-run-fail cycles down to seconds.</li>
<li>If you need debuggers, you&rsquo;re doing it wrong.</li>
</ol>


<p>Tags: pieter-hintjens, list, habit, good-programmer</p>

<h2>Beginning Clojure: Cursive</h2>

<p>I&rsquo;ve read <a href="http://potetm.github.io/2015/10/04/beginning-clojure-cursive.html">this tutorial</a> on installing Cursive, IntelliJ Idea&rsquo;s plugin for working with Clojure. Written by Tim Pote</p>

<p>Tags: cursive, clojure, intellij-idea, plugin, tutorial, tim-pote</p>

<h2>#NodeJS : A quick optimization advice</h2>

<p>I&rsquo;ve read <a href="https://top.fse.guru/nodejs-a-quick-optimization-advice-7353b820c92e">this article</a> on the limit for inlining for the NodeJS optimizing compiler (Crankshaft), that includes both source code and comments. Written Julien Crouzet</p>

<p>Tags: nodejs, comment, julien-crouzet, crankshaft, optimizer, inline, function-inline</p>

<h2>Specification Pattern</h2>

<p>I&rsquo;ve read <a href="https://en.wikipedia.org/wiki/Specification_pattern">this wikipedia</a> page on the specification pattern</p>

<p>Tags: eric-evans, martin-fowler, specification-pattern, pattern, design-pattern, dsl, domain-specific-language</p>

<h2>El recruiting est√° ROTO #Bonilista</h2>

<p>I&rsquo;ve read <a href="http://us2.campaign-archive2.com/?u=374c664073e1a1fa3deca53b4&amp;id=539364dde4">this bonilista</a> where David Bonilla explains why the recruitment sector for technical people in Spain is broken. Article is in Spanish.</p>

<p>Tags: david-bonilla, bonilista, recruitment, job, career</p>

<h2>BDDon‚Äôt: The practice and the tools</h2>

<p>‚ÄãI&rsquo;ve  read <a href="https://www.thoughtworks.com/p2magazine/issue12/bdd-dont/">this article</a> by Kevin Dishman that explains what is BDD and how it I  usually used. Also the common downsides and what to do about it</p>

<p>Suggests using a faster tool, lower on the test pyramid that can bring the same business value at a lower cost</p>

<p>Tags: kevin-dishman, downside, test-pyramid, bdd, test, unit-test, functional-test, acceptance-test</p>

<h2>C√≥mo usan #Git en GitHub ‚Äì #scbcn</h2>

<p>I&rsquo;ve watched <a href="http://codely.tv/screencasts/como-usan-git-en-github/">this screencast</a> on the talk we organized yesterday about github.</p>

<p>Tags: javier-ferrer, codely-tv, codely, event, scbcn, alain-helaili, screencast</p>

<h2>Trying to speed up Binary Search</h2>

<p>I have read <a href="http://databasearchitects.blogspot.com.es/2015/09/trying-to-speed-up-binary-search.html">this article</a> on how the binary search is implemented and what other algorithms are possible to speed up the search in large datasets, especially common in databases.</p>

<p>Tags: optimization, branch-misprediction, clang, o3, gpp, c, database, binary-search, thomas-neumann</p>

<h2>Scrum 3.0 and Organization 4.0 - impressions from a great evening with Boris Gloger at ImmobilienScout24</h2>

<p>I have read <a href="http://www.ontheagilepath.net/2015/12/scrum-30-and-organization-40.html">this article</a> by  Sebastian Radics that compares the different ways of doing scrum: 1 2 3, most comments on other strategies or management methodologies like no estimates.</p>

<p>Compares the importance of focusing on the process or on the final product, the role of the scrum master, the role of the product owner, and the team itself.</p>

<p>Tags: management, agile, scrum, team-management, sebastian-radics, scrum30</p>

<h2>Trucos para trabajar con equipos remotos</h2>

<p>I have read <a href="http://thinkingwithyou.com/2015/11/trucos-para-trabajar-con-equipos-remotos/">this article</a> by Israel Alc√°zar (Spanish). Explains how this company organized their product development process. explains tools for working with a remote team.</p>

<p>give three pieces of advice for improving it, and further resources to read</p>

<p>Tags: remote, remote-first, isra-alcazar, israel-alcazar, team-management, advice</p>

<h2>Introducing new open-source tools for the Elixir community</h2>

<p>I&rsquo;ve read <a href="https://engineering.pinterest.com/blog/introducing-new-open-source-tools-elixir-community">this article</a> by Steve Cohen that explains what the actor model is and what is the spirit of the elixir language: user friendlier syntax for erlang</p>

<p>They also explain that they have implemented and ad server and access control using elixir. For this matter, they rely on two tools that are now open source</p>

<p>Tags: elixir, microsecond, latency, erlang, actor-model, language-syntax, open-source, steve-cohen</p>

<h2>¬øCu√°nto pagas por tus herramientas de trabajo?</h2>

<p>I&rsquo;ve read <a href="http://us2.campaign-archive2.com/?u=374c664073e1a1fa3deca53b4&amp;id=12ed2d6eb0">this bonilista</a> about how much programmers invest in buying their tools (and honing them). By David Bonilla, in Spanish</p>

<p>Tags: david-bonilla, bonilista, tool, investment</p>

<h2>Clojure at a Bank ‚Äì Freeing the Rules</h2>

<p>I&rsquo;ve read <a href="http://www.pitheringabout.com/?p=830">this article</a> by Jon Pither about converting OO business rules into Clojure and using the homoiconicity for increasing the power: when code is data, the rules themselves become searchable (using a search engine), visualizable and analyzable. This wasn&rsquo;t possible before when code was not data.</p>

<p>They have also build further tools to analyze rules with larger sets of data, rather than unit tests, to see if they conflict among each other.</p>

<p>Tags: jon-pither, clojure, homoiconicity, code=data, data=code, rule, rule-engine, bank, business-rule, code-analysis</p>

<h2>Five reasons to learn Clojure and Emacs together</h2>

<p>I&rsquo;ve read <a href="http://www.pitheringabout.com/?p=849">this article</a> by Jon Pither advocating the learning of Clojure and Emacs at the same time. The main reasons are: liberation, change, support, simplicity, mass adoption.</p>

<p>Cites that being hard to learn a new editor is a good idea to separate those who are willing to invest the time in learning (both an editor and a new language) from those who don&rsquo;t.</p>

<p>Tags: clojure, emacs, jon-pither, learning, liberation, change, support, simplicity, mass-adoption</p>

<h2>Pull Requests Maintainers Won&rsquo;t Hate</h2>

<p>I&rsquo;ve read this <a href="https://www.booleanknot.com/blog/2013/09/07/pull-requests.html">list of tips</a> by James Reeves on improving the pull requests
Tags: pull-request, james-reeves, tip, list</p>

<h2>How to get rich in tech, guaranteed.</h2>

<p>I&rsquo;ve read <a href="http://startupljackson.com/post/135800367395/how-to-get-rich-in-tech-guaranteed">this article</a> that describes what is a way to make good money and retire rich why working for a company.</p>

<p>It also explains about entering the startup market, what questions should be asked, what&rsquo;s your real value, what are the benefits of doing it, known limitations and other questions</p>

<p>Tags: startup, career, career-management, work, professional-career, value, money</p>

<h2>Modern Perl 4th edition, a review</h2>

<p>I have read <a href="http://perltricks.com/article/205/2015/12/21/Modern-Perl-4th-edition--a-review">this article</a> that explains how this new book covers the syntax, idioms and the rest of the Perl language.</p>

<p>In this 4th edition, parts of  the text have completely been rewritten, a New formatting applied to ease and improve the reading comprehension</p>

<p>Tags: book-review, review, david-farrell, perl, reedition, modern-perl</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/11/02/functional-implementation-patterns/">Functional Implementation Patterns</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-11-02T20:26:13+00:00'><span class='date'><span class='date-month'>Nov</span> <span class='date-day'>2</span><span class='date-suffix'>nd</span>, <span class='date-year'>2015</span></span> <span class='time'>8:26 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1>Collection of HOFs</h1>

<h2>Select Attribute</h2>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">class</span> <span class="nc">Array</span>
</span><span class='line'>  <span class="k">def</span> <span class="nf">select_attribute</span> <span class="kp">attr</span>
</span><span class='line'>    <span class="nb">self</span><span class="o">.</span><span class="n">map</span> <span class="p">{</span> <span class="o">|</span><span class="n">unit</span><span class="o">|</span> <span class="n">unit</span><span class="o">[</span><span class="kp">attr</span><span class="o">]</span> <span class="p">}</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>usage:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="o">[</span><span class="mi">71</span><span class="o">]</span> <span class="n">pry</span><span class="p">(</span><span class="n">main</span><span class="p">)</span><span class="o">&gt;</span> <span class="o">[</span>
</span><span class='line'>    <span class="p">{</span><span class="ss">:element</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span> <span class="ss">:even?</span> <span class="o">=&gt;</span> <span class="kp">false</span><span class="p">},</span>
</span><span class='line'>    <span class="p">{</span><span class="ss">:element</span> <span class="o">=&gt;</span> <span class="mi">2</span><span class="p">,</span> <span class="ss">:even?</span> <span class="o">=&gt;</span> <span class="kp">true</span><span class="p">},</span>
</span><span class='line'>    <span class="p">{</span><span class="ss">:element</span> <span class="o">=&gt;</span> <span class="mi">3</span><span class="p">,</span> <span class="ss">:even?</span> <span class="o">=&gt;</span> <span class="kp">false</span><span class="p">}</span><span class="o">]</span>
</span><span class='line'>                                   <span class="o">.</span><span class="n">select_attribute</span> <span class="ss">:even?</span>
</span><span class='line'><span class="o">=&gt;</span> <span class="o">[</span><span class="kp">false</span><span class="p">,</span> <span class="kp">true</span><span class="p">,</span> <span class="kp">false</span><span class="o">]</span>
</span></code></pre></td></tr></table></div></figure>


<h1>Collection of patterns</h1>

<h2>Decorating a collection</h2>

<h3>Introduction</h3>

<p>You want to materialize properties from a collection</p>

<h3>Alternative names</h3>

<ul>
<li>Intermediary</li>
<li>Functional decorator</li>
<li>Collection Annotation (from <a href="http://www.cs.uni.edu/~wallingf/patterns/recursion.html">Wallingford&rsquo;s Roundabout</a>, especially <a href="http://www.cs.uni.edu/~wallingf/patterns/recursion.html#2">Interface procedure</a>)</li>
</ul>


<h3>Example</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="o">[</span><span class="mi">62</span><span class="o">]</span> <span class="n">pry</span><span class="p">(</span><span class="n">main</span><span class="p">)</span><span class="o">&gt;</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="o">]</span>
</span><span class='line'>                       <span class="o">.</span><span class="n">map</span> <span class="p">{</span> <span class="o">|</span><span class="n">x</span><span class="o">|</span>
</span><span class='line'>                         <span class="p">{</span><span class="ss">:element</span> <span class="o">=&gt;</span> <span class="n">x</span><span class="p">,</span> <span class="ss">:even?</span> <span class="o">=&gt;</span> <span class="n">x</span><span class="o">.</span><span class="n">even?</span> <span class="p">}</span>
</span><span class='line'>                       <span class="p">}</span>
</span><span class='line'><span class="o">=&gt;</span> <span class="o">[</span><span class="p">{</span><span class="ss">:element</span><span class="o">=&gt;</span><span class="mi">1</span><span class="p">,</span> <span class="ss">:even?</span><span class="o">=&gt;</span><span class="kp">false</span><span class="p">},</span> <span class="p">{</span><span class="ss">:element</span><span class="o">=&gt;</span><span class="mi">2</span><span class="p">,</span> <span class="ss">:even?</span><span class="o">=&gt;</span><span class="kp">true</span><span class="p">},</span> <span class="p">{</span><span class="ss">:element</span><span class="o">=&gt;</span><span class="mi">3</span><span class="p">,</span> <span class="ss">:even?</span><span class="o">=&gt;</span><span class="kp">false</span><span class="p">}</span><span class="o">]</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Extra</h3>

<p>Naming the decoration</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="o">[</span><span class="mi">62</span><span class="o">]</span> <span class="n">pry</span><span class="p">(</span><span class="n">main</span><span class="p">)</span><span class="o">&gt;</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="o">]</span>
</span><span class='line'>                       <span class="o">.</span><span class="n">map</span> <span class="p">{</span> <span class="o">|</span><span class="n">x</span><span class="o">|</span>
</span><span class='line'>                         <span class="p">{</span><span class="ss">:element</span> <span class="o">=&gt;</span> <span class="n">x</span><span class="p">,</span> <span class="ss">:even?</span> <span class="o">=&gt;</span> <span class="n">x</span><span class="o">.</span><span class="n">even?</span> <span class="p">}</span>
</span><span class='line'>                       <span class="p">}</span>
</span><span class='line'><span class="o">=&gt;</span> <span class="o">[</span><span class="p">{</span><span class="ss">:element</span><span class="o">=&gt;</span><span class="mi">1</span><span class="p">,</span> <span class="ss">:even?</span><span class="o">=&gt;</span><span class="kp">false</span><span class="p">},</span> <span class="p">{</span><span class="ss">:element</span><span class="o">=&gt;</span><span class="mi">2</span><span class="p">,</span> <span class="ss">:even?</span><span class="o">=&gt;</span><span class="kp">true</span><span class="p">},</span> <span class="p">{</span><span class="ss">:element</span><span class="o">=&gt;</span><span class="mi">3</span><span class="p">,</span> <span class="ss">:even?</span><span class="o">=&gt;</span><span class="kp">false</span><span class="p">}</span><span class="o">]</span>
</span></code></pre></td></tr></table></div></figure>


<p>compare to</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="o">[</span><span class="mi">63</span><span class="o">]</span> <span class="n">pry</span><span class="p">(</span><span class="n">main</span><span class="p">)</span><span class="o">&gt;</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="o">]</span>
</span><span class='line'>                       <span class="o">.</span><span class="n">map</span> <span class="p">{</span> <span class="o">|</span><span class="n">x</span><span class="o">|</span> <span class="o">[</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="o">.</span><span class="n">even?</span><span class="o">]</span> <span class="p">}</span>
</span><span class='line'><span class="o">=&gt;</span> <span class="o">[[</span><span class="mi">1</span><span class="p">,</span> <span class="kp">false</span><span class="o">]</span><span class="p">,</span> <span class="o">[</span><span class="mi">2</span><span class="p">,</span> <span class="kp">true</span><span class="o">]</span><span class="p">,</span> <span class="o">[</span><span class="mi">3</span><span class="p">,</span> <span class="kp">false</span><span class="o">]]</span>
</span></code></pre></td></tr></table></div></figure>


<p>In the latter, you are expressing the how, not the what.</p>

<h2>Expand a HOF</h2>

<p>You have a HOF that you want to split in several ones</p>

<h3>Example</h3>

<p>Original:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="o">[</span><span class="mi">5</span><span class="o">]</span> <span class="n">pry</span><span class="p">(</span><span class="n">main</span><span class="p">)</span><span class="o">&gt;</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="o">]</span>
</span><span class='line'>                      <span class="o">.</span><span class="n">select</span> <span class="p">{</span><span class="o">|</span><span class="n">x</span><span class="o">|</span> <span class="n">x</span><span class="o">.</span><span class="n">even?</span><span class="p">}</span>
</span><span class='line'><span class="o">=&gt;</span> <span class="o">[</span><span class="mi">2</span><span class="o">]</span>
</span></code></pre></td></tr></table></div></figure>


<p>Introduce an intermediary:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="o">[</span><span class="mi">2</span><span class="o">]</span> <span class="n">pry</span><span class="p">(</span><span class="n">main</span><span class="p">)</span><span class="o">&gt;</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="o">]</span>
</span><span class='line'>                      <span class="o">.</span><span class="n">map</span> <span class="p">{</span> <span class="o">|</span><span class="n">x</span><span class="o">|</span> <span class="o">[</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="o">.</span><span class="n">even?</span><span class="o">]</span> <span class="p">}</span>
</span><span class='line'><span class="o">=&gt;</span> <span class="o">[[</span><span class="mi">1</span><span class="p">,</span> <span class="kp">false</span><span class="o">]</span><span class="p">,</span> <span class="o">[</span><span class="mi">2</span><span class="p">,</span> <span class="kp">true</span><span class="o">]</span><span class="p">,</span> <span class="o">[</span><span class="mi">3</span><span class="p">,</span> <span class="kp">false</span><span class="o">]]</span>
</span></code></pre></td></tr></table></div></figure>


<p>Then select all that match:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="o">[</span><span class="mi">67</span><span class="o">]</span> <span class="n">pry</span><span class="p">(</span><span class="n">main</span><span class="p">)</span><span class="o">&gt;</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="o">]</span>
</span><span class='line'>                       <span class="o">.</span><span class="n">map</span>    <span class="p">{</span> <span class="o">|</span><span class="n">x</span><span class="o">|</span> <span class="o">[</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="o">.</span><span class="n">even?</span><span class="o">]</span> <span class="p">}</span>
</span><span class='line'>                       <span class="o">.</span><span class="n">select</span> <span class="p">{</span> <span class="o">|</span><span class="n">x</span><span class="o">|</span> <span class="n">x</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span> <span class="p">}</span>
</span><span class='line'>                       <span class="o">.</span><span class="n">map</span>    <span class="p">{</span> <span class="o">|</span><span class="n">x</span><span class="o">|</span> <span class="n">x</span><span class="o">.</span><span class="n">first</span> <span class="p">}</span>
</span><span class='line'><span class="o">=&gt;</span> <span class="o">[</span><span class="mi">2</span><span class="o">]</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Compact HOF</h2>

<h3>Introduction</h3>

<p>You have several HOFs in a row: you decorate the collection, act on the decorated values, then use only part from the new aggregation.</p>

<h3>Example</h3>

<h4>Diff</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="o">-</span> <span class="o">.</span><span class="n">map</span> <span class="p">{</span> <span class="o">|</span><span class="n">x</span><span class="o">|</span> <span class="o">[</span><span class="n">x</span><span class="p">,</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">x</span><span class="o">]</span><span class="p">}</span>
</span><span class='line'><span class="o">-</span> <span class="o">.</span><span class="n">sort_by</span> <span class="p">{</span> <span class="o">|</span><span class="n">f</span><span class="o">|</span> <span class="n">f</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span><span class="p">}</span>
</span><span class='line'><span class="o">-</span> <span class="o">.</span><span class="n">map</span> <span class="p">{</span> <span class="o">|</span><span class="n">x</span><span class="o">|</span> <span class="n">x</span><span class="o">.</span><span class="n">first</span><span class="p">}</span>
</span><span class='line'><span class="o">+</span> <span class="o">.</span><span class="n">sort_by</span> <span class="p">{</span> <span class="o">|</span><span class="n">x</span><span class="o">|</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">x</span><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="o">[</span><span class="mi">48</span><span class="o">]</span> <span class="n">pry</span><span class="p">(</span><span class="n">main</span><span class="p">)</span><span class="o">&gt;</span> <span class="o">[</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">90</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="o">]</span>
</span><span class='line'>                                    <span class="o">.</span><span class="n">map</span>     <span class="p">{</span> <span class="o">|</span><span class="n">x</span><span class="o">|</span> <span class="o">[</span><span class="n">x</span><span class="p">,</span> <span class="o">-</span><span class="n">x</span><span class="o">]</span> <span class="p">}</span>
</span><span class='line'>                                    <span class="o">.</span><span class="n">sort_by</span> <span class="p">{</span> <span class="o">|</span><span class="n">x</span><span class="o">|</span> <span class="n">x</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span> <span class="p">}</span>
</span><span class='line'>                                    <span class="o">.</span><span class="n">map</span>     <span class="p">{</span> <span class="o">|</span><span class="n">x</span><span class="o">|</span> <span class="n">x</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="p">}</span>
</span><span class='line'><span class="o">=&gt;</span> <span class="o">[</span><span class="mi">90</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="o">]</span>
</span></code></pre></td></tr></table></div></figure>


<p>replace it by:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="o">[</span><span class="mi">49</span><span class="o">]</span> <span class="n">pry</span><span class="p">(</span><span class="n">main</span><span class="p">)</span><span class="o">&gt;</span> <span class="o">[</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">90</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="o">]</span>
</span><span class='line'>                                    <span class="o">.</span><span class="n">sort_by</span> <span class="p">{</span> <span class="o">|</span><span class="n">x</span><span class="o">|</span> <span class="o">-</span><span class="n">x</span> <span class="p">}</span>
</span><span class='line'><span class="o">=&gt;</span> <span class="o">[</span><span class="mi">90</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="o">]</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Do not use when</h3>

<p>This pattern is not appropriate when you depend on (i.e., cannot discard) the data generated by the decoration.</p>

<p>Example:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="o">[</span><span class="mi">50</span><span class="o">]</span> <span class="n">pry</span><span class="p">(</span><span class="n">main</span><span class="p">)</span><span class="o">&gt;</span> <span class="o">[</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">90</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="o">]</span>
</span><span class='line'>                                    <span class="o">.</span><span class="n">map</span>     <span class="p">{</span> <span class="o">|</span><span class="n">x</span><span class="o">|</span> <span class="o">[</span><span class="n">x</span><span class="p">,</span> <span class="o">-</span><span class="n">x</span><span class="o">]</span> <span class="p">}</span>
</span><span class='line'>                                    <span class="o">.</span><span class="n">sort_by</span> <span class="p">{</span> <span class="o">|</span><span class="n">x</span><span class="o">|</span> <span class="n">x</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span> <span class="p">}</span>
</span><span class='line'><span class="o">=&gt;</span> <span class="o">[[</span><span class="mi">90</span><span class="p">,</span> <span class="o">-</span><span class="mi">90</span><span class="o">]</span><span class="p">,</span> <span class="o">[</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="o">]</span><span class="p">,</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="o">]</span><span class="p">,</span> <span class="o">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="o">]</span><span class="p">,</span> <span class="o">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="o">]</span><span class="p">,</span> <span class="o">[-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="o">]]</span>
</span></code></pre></td></tr></table></div></figure>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/11/02/self-study-in-november-2015/">Self-Study in November 2015</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-11-02T13:25:19+00:00'><span class='date'><span class='date-month'>Nov</span> <span class='date-day'>2</span><span class='date-suffix'>nd</span>, <span class='date-year'>2015</span></span> <span class='time'>1:25 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>Call me maybe: RabbitMQ</h2>

<p>I&rsquo;ve read <a href="https://aphyr.com/posts/315-call-me-maybe-rabbitmq">this article</a> by Kyle Kingsbury on using RabbitMQ as a lock service. It investigates and gives a counterexample of using it for this purpose.</p>

<p>Uses Knossos to do the testing and surfaces a problem with it. Explains specific problems on locking: at-most-once and at-least-once message delivery</p>

<p>Note: References Jepsen (I guess an inside joke to the song &ldquo;Call me maybe&rdquo; by Carly Rae Jepsen) for at-most-once and at-least-once message delivery.</p>

<p>Tags: rabbitmq, kyle-kingsbury, lock, cap-theorem, distributed-system, jepsen, knossos, at-most-once-delivery, at-least-once-delivery, counterexample, mutex</p>

<h2>Everyone is potentially a teacher</h2>

<p>I&rsquo;ve read <a href="http://www.carlosble.com/2015/09/everyone-is-potentially-a-teacher">this article</a> by Carlos Bl√© where he explains that everyone can have ideas worth spreading and that the knowledge not only comes from others but also from the relationships that tie you to other people.</p>

<p>Tags: carlos-ble, teaching, pedagogy, idea, teacher, relationship</p>

<h2>Ragel State Machine Compiler</h2>

<p>I&rsquo;ve read <a href="http://www.colm.net/open-source/ragel/">this article</a> explaining what the Ragel project is about: a code generator from regex to code in languages such as C#, Java, etc. It is limited to finite state machines (FSM), with determinism. It can also handle some indeterminism. Written by Adrian D. Thurston</p>

<p>Tags: adrian-thurston, fsm, state-machine, finite-state-machine, code-generation, ragel</p>

<h2>HTTP is obsolete. It&rsquo;s time for the distributed, permanent web</h2>

<p>I&rsquo;ve read <a href="https://ipfs.io/ipfs/QmNhFJjGcMPqpuYfxL62VVB9528NXqDNMFXiqN5bgFYiZ1/its-time-for-the-permanent-web.html">this article</a> by Kyle Drake explaining the need for a permanent, distributed web archive.</p>

<p>Using a distributed file system (IPFS) and software similar to Bitcoin, they can host parts of the web locally, making it immutable and distributed</p>

<p>Tags: kyle-drake, web-archive, centralization, decentralization, distribution, permanent-web, ipfs, federation,</p>

<h2>Recovering From the Integrated Tests Scam</h2>

<p>I&rsquo;ve read <a href="http://us2.campaign-archive1.com/?u=80ca60ec48ef77dfaa1f38943&amp;id=42e61e203e&amp;e=4a925444f9">this article</a> from J. B. Rainsberger on the integrated test scam and how to solve it: refactoring.</p>

<p>Tags: jbrains, tdd, integrated-test, integration-test, j-rainsberger</p>

<h2>Broken windows theory</h2>

<p>I&rsquo;ve read <a href="https://en.wikipedia.org/wiki/Broken_windows_theory">this wikipedia article</a> that talks about the broken windows theory, that states that controlling and monitoring public spaces leads to lowering the serious crimes.</p>

<p>Cites three causes for this:</p>

<ul>
<li>Social norms and conformity</li>
<li>Lack of routing monitoring</li>
<li>Social signaling and signal crime</li>
</ul>


<p>Also discusses examples in the US and in the Netherlands, as well as criticisms.</p>

<p>I&rsquo;ve read it to better understand how to apply this theory to software development, on a day-to-day basis.</p>

<p>Tags: wikipedia, theory, broken-window</p>

<h2>Scsh</h2>

<p>I&rsquo;ve read <a href="https://en.wikipedia.org/wiki/Scsh">the wikipedia page</a> for Scsh, the Scheme shell.</p>

<h2>Why is Scala&rsquo;s type inference not as powerful as Haskell&rsquo;s?</h2>

<p>I&rsquo;ve read the reasoning why Haskell supports other type inferences that are not present in Scala, in <a href="http://stackoverflow.com/questions/7234095/why-is-scalas-type-inference-not-as-powerful-as-haskells">this StackOverflow question</a></p>

<p>Tags: scala, haskell, type-inference, hindley-milner, type-inference-algorithm</p>

<h2>The Future of the LispM</h2>

<p>I&rsquo;ve read <a href="http://arrdem.com/2014/11/28/the_future_of_the_lispm/">this article</a> explaining the past and current situation in the Lisp world: from Lisp, to LispM, to the MIT and Symbolics Inc., to Clojure and Scheme.</p>

<p>Also talks about integration with the operating system and its execution in the microprocessor. Written by Reid McKenzie</p>

<p>Tags: reid-mckenzie, lisp, lispm, clojure, scheme, symbolics</p>

<h2>The Lisp Curse</h2>

<p>I&rsquo;ve read <a href="http://www.winestockwebdesign.com/Essays/Lisp_Curse.html">this essay</a> by Rudolf Winestock, where he explains the low barrier (or low cost) for people in powerful languages (such as Lisp) to not accept the status quo in their project and fork / start their own.</p>

<p>It also compares languages and the people attracted to them. Cites Mark Tarver&rsquo;s essays several times, including the Brilliant Bipolar Mind (BBM) in <a href="https://web.archive.org/web/20150308085419/http://www.lambdassociates.org/blog/bipolar.htm">this other</a> essay (from WebArchive). Compares the BBM and the normal worker in usefulness to companies.</p>

<p>Cites the Pareto principle (80-20 rule): a single hacker will port 80% the library from another language, leaving it buggy, undocumented and only understandable by the original author (assuming this is only 20% of the work). The rest (e.g., documentation, bugfixing, maintenance) are dropped and never taken care of.</p>

<p>Cites that this could be somewhat based on the facility of creating new features for the language. A small effort implies small implementation time, leaving no margin for thinking it through and seeing other corner cases. Also, a single person working on the project means no code review. The style might be coherent (always the same one), but might not be idiomatic, understandable by others, maintainable, etc.</p>

<p>Closes the essay with this quote:</p>

<blockquote><p>The expressive power of Lisp has drawbacks. There is no such thing as a free lunch.</p></blockquote>

<p>Tags: rudolf-winestock, essay, pareto-principle, hacking, one-man-band, lisp, no-free-lunch, quote</p>

<h2>The Bipolar Lisp Programmer</h2>

<p>I&rsquo;ve read <a href="https://web.archive.org/web/20150308085419/http://www.lambdassociates.org/blog/bipolar.htm">this essay</a> by Mark Tarver on the Bipolar Lisp programmmer or the koan of Lisp.</p>

<p>It explains the history of the Brilliant Bipolar Mind (BBM) when they attend high school and college. The freedom they&rsquo;re given, exactly the same as in Lisp, as you don&rsquo;t need to mix and socialize with others to create a good-enough solution.</p>

<p>In this fashion, he says, most of the projects are 80% finished, not documented, not maintained. The same problems that worry enterprises.</p>

<p>Cites the article &ldquo;Lisp: Good News, Bad News, How to Win Big&rdquo;</p>

<p>Tags: essay, mark-tarver, bipolar-lisp-programmer, lisp-programmer, programmer, brillian-bipolar-mind, blp, bbm, koan</p>

<p>Note: this article was no longer present on its original site. Fetched it from the Web Archive (WayBack Machine).</p>

<h2>Writing readable Clojure code</h2>

<p>I&rsquo;ve read <a href="http://www.slideshare.net/jiriknesl/writing-readable-clojure-code">these slides</a> by Ji≈ô√≠ Knesl, that explains how to write better clojure code:</p>

<ul>
<li>Macros</li>
<li>HOFs</li>
<li>left-to-right vs right-to-left code</li>
</ul>


<p>Tags: clojure, jiri-knesl, macro, hof, thread, slide</p>

<h2>How can I get a reference to a method?</h2>

<p>I&rsquo;ve read <a href="http://stackoverflow.com/questions/485151/how-can-i-get-a-reference-to-a-method">this question</a>, <a href="http://stackoverflow.com/questions/4294485/how-do-i-reference-a-function-in-ruby">another question</a> from StackOverflow</p>

<p>Tags: stackoverflow, question, ruby, functional-programming, method-reference</p>

<h2>Implicit and Explicit Blocks</h2>

<p>I&rsquo;ve read <a href="https://rubymonk.com/learning/books/4-ruby-primer-ascent/chapters/18-blocks/lessons/55-new-lesson">this lesson from rubyMonk</a></p>

<p>Tags: rubymonk, lesson, block, ruby</p>

<h2>What&rsquo;s Point-free Programing?</h2>

<p>I&rsquo;ve read <a href="http://xahlee.info/comp/point-free_programing.html">this article</a> by Xah Lee explaining point-free programming, which requires a glance at function decomposition (currying)</p>

<blockquote><p>[&hellip;] ‚Äúpoint-free programing‚Äù is:</p>

<ul>
<li>It is about a particular <strong>syntax</strong> for <strong>function definition</strong>.</li>
<li>When <strong>defining a function</strong>, no symbol is used for function parameter.</li>
</ul>
</blockquote>

<h2>Oracle‚Äôs ‚Äúplanned obsolescence‚Äù for Java</h2>

<p>I&rsquo;ve read <a href="https://jaxenter.com/oracle-and-javas-planned-obsolescence-121144.html">this article</a> by Coman Hamilton on the possible Java&rsquo;s planned obsolescence by Oracle.</p>

<p>Discusses features pushed to future releases, comparing it to other legacy languages.</p>

<p>Tags: obsolescence, legacy-language, planned-obsolescence, java, java-ee, oracle, fortran, cobol, coman-hamilton</p>

<h2>Your first Ruby native extension: C</h2>

<p>I&rsquo;ve read <a href="https://blog.jcoglan.com/2012/07/29/your-first-ruby-native-extension-c/">this article</a> about writing a native extension for ruby. Written by James Coglan</p>

<p>Tags: james-coglan, ruby, c, native-extension</p>

<h2>What&rsquo;s the difference between equal?, eql?, ===, and ==?</h2>

<p>I&rsquo;ve read <a href="http://stackoverflow.com/questions/7156955/whats-the-difference-between-equal-eql-and">this stackoverflow</a> question regarding Ruby operators: equal?, eql?, ===, ==:</p>

<ul>
<li>==: generic equality</li>
<li>===: case equality (for case - when)</li>
<li>eql?: hash equality</li>
<li>equal?: identity comparison (pointer comparison)</li>
</ul>


<p>Tags: comparison, stackoverflow, ruby, equal, eq, ==, ===, question, answer, jtbandes</p>

<h2>Kanban</h2>

<p>I&rsquo;ve read <a href="https://es.wikipedia.org/wiki/Kanban">the wikipedia page</a> for Kanban (Spanish)</p>

<p>Tags: wikipedia, kanban, agile-methodology, management</p>

<h2>Is your Scrum team Agile?</h2>

<p>I&rsquo;ve read <a href="https://blog.thesoftwarecraft.com/2014/04/is-your-scrum-team-agile.html">this article</a> by  Bart Bakker where he discusses some common patterns in Agile implementations (in software companies)</p>

<p>Tags: scrum, team, agile, scrum-implementation, bart-bakker</p>

<h2>Mejora tu trabajo en equipo con el m√©todo Kanban</h2>

<p>I&rsquo;ve read <a href="http://hipertextual.com/archivo/2013/11/que-es-kanban/">this article</a> that explains then kanban management framework, with its principles and its values. Written by Jose L√≥pez (in Spanish)</p>

<p>Tags: kanban, management, agile-methodology, management-framework, principle, value, jose-lopez</p>

<h2>¬øQu√© es el m√©todo Kanban para la gesti√≥n de proyectos?</h2>

<p>I&rsquo;ve read <a href="http://www.javiergarzas.com/2011/11/kanban.html">this article</a> (Spanish) written by Javier Garz√°s where it is explained the kanban methodology and three of its main rules:</p>

<ul>
<li>visualize workflow</li>
<li>limit WIP</li>
<li>measure {lead, cycle} time</li>
</ul>


<p>Tags: kanban, management, agile-methodology, management-framework, principle, value, javier-garzas</p>

<h2>describe vs. context in rspec</h2>

<p>I&rsquo;ve read <a href="http://lmws.net/describe-vs-context-in-rspec">this article</a> that explains the (lack of) functional difference between RSpec&rsquo;s <code>describe</code> and <code>context</code> methods. The difference is contextual (i.e., the amount of information they convey). Written by LM</p>

<p>Tags: rspec, ruby, describe, context, difference</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/10/12/calling-all-methods-in-a-ruby-object/">Tip: Calling All Methods in an Object in Ruby</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-10-12T09:55:17+00:00'><span class='date'><span class='date-month'>Oct</span> <span class='date-day'>12</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>9:55 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>In Ruby, you can query the methods an object accepts:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">pry</span><span class="p">(</span><span class="n">main</span><span class="p">)</span><span class="o">&gt;</span> <span class="mi">1</span><span class="o">.</span><span class="n">methods</span>
</span><span class='line'><span class="o">=&gt;</span> <span class="o">[</span><span class="ss">:to_s</span><span class="p">,</span>
</span><span class='line'> <span class="ss">:-@</span><span class="p">,</span>
</span><span class='line'> <span class="ss">:+</span><span class="p">,</span>
</span><span class='line'> <span class="ss">:-</span><span class="p">,</span>
</span><span class='line'> <span class="ss">:*</span><span class="p">,</span>
</span><span class='line'> <span class="ss">:/</span><span class="p">,</span>
</span><span class='line'> <span class="ss">:div</span><span class="p">,</span>
</span><span class='line'> <span class="ss">:%</span><span class="p">,</span>
</span><span class='line'> <span class="ss">:modulo</span><span class="p">,</span>
</span><span class='line'> <span class="ss">:divmod</span><span class="p">,</span>
</span><span class='line'> <span class="ss">:fdiv</span><span class="p">,</span>
</span><span class='line'> <span class="o">.</span><span class="n">.</span><span class="o">.</span>
</span></code></pre></td></tr></table></div></figure>


<p>In case you want to call all methods, <a href="https://github.com/alvarogarcia7/ruby-simple-sessions/blob/master/call_all_methods/call_all_methods.rb">this</a> can be useful (plus its <a href="https://github.com/alvarogarcia7/ruby-simple-sessions/blob/master/call_all_methods/call_all_methods_spec.rb">tests</a>):</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">def</span> <span class="nf">call_all_methods</span><span class="p">(</span><span class="n">object</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span>
</span><span class='line'>  <span class="c1"># remove methods that modify the PRY environment or are too verbose</span>
</span><span class='line'>  <span class="n">success</span> <span class="o">=</span> <span class="p">{}</span>
</span><span class='line'>  <span class="n">error</span> <span class="o">=</span> <span class="p">{}</span>
</span><span class='line'>  <span class="n">exclusions</span> <span class="o">=</span> <span class="o">[</span><span class="ss">:pry</span><span class="p">,</span>
</span><span class='line'>                <span class="ss">:methods</span><span class="p">,</span>
</span><span class='line'>                <span class="ss">:private_methods</span><span class="p">,</span>
</span><span class='line'>                <span class="ss">:public_methods</span><span class="p">,</span>
</span><span class='line'>                <span class="ss">:gem</span><span class="o">].</span><span class="n">map</span> <span class="p">{</span> <span class="o">|</span><span class="n">x</span><span class="o">|</span> <span class="n">x</span><span class="o">.</span><span class="n">to_s</span><span class="p">}</span>
</span><span class='line'>  <span class="n">object</span><span class="o">.</span><span class="n">methods</span><span class="o">.</span><span class="n">each</span> <span class="p">{</span> <span class="o">|</span><span class="n">x</span><span class="o">|</span>
</span><span class='line'>    <span class="k">unless</span> <span class="n">exclusions</span><span class="o">.</span><span class="n">include?</span> <span class="n">x</span><span class="o">.</span><span class="n">to_s</span> <span class="k">then</span>
</span><span class='line'>      <span class="k">begin</span>
</span><span class='line'>        <span class="k">if</span> <span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">empty?</span><span class="p">)</span> <span class="k">then</span>
</span><span class='line'>          <span class="n">success</span><span class="o">[</span><span class="n">x</span><span class="o">]</span> <span class="o">=</span> <span class="n">object</span><span class="o">.</span><span class="n">__send__</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</span><span class='line'>        <span class="k">else</span>
</span><span class='line'>          <span class="n">success</span><span class="o">[</span><span class="n">x</span><span class="o">]</span> <span class="o">=</span> <span class="n">object</span><span class="o">.</span><span class="n">__send__</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span>
</span><span class='line'>        <span class="k">end</span>
</span><span class='line'>      <span class="k">rescue</span> <span class="no">StandardError</span> <span class="o">=&gt;</span> <span class="n">ex</span>
</span><span class='line'>        <span class="n">error</span><span class="o">[</span><span class="n">x</span><span class="o">]</span> <span class="o">=</span> <span class="n">ex</span>
</span><span class='line'>      <span class="k">end</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="n">success</span><span class="o">.</span><span class="n">select!</span> <span class="p">{</span> <span class="o">|</span><span class="n">x</span><span class="o">|</span> <span class="ow">not</span> <span class="n">x</span><span class="o">.</span><span class="n">nil?</span><span class="p">}</span>
</span><span class='line'>  <span class="n">error</span><span class="o">.</span><span class="n">select!</span> <span class="p">{</span> <span class="o">|</span><span class="n">x</span><span class="o">|</span> <span class="ow">not</span> <span class="n">x</span><span class="o">.</span><span class="n">nil?</span><span class="p">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="p">{</span><span class="ss">success</span><span class="p">:</span> <span class="n">success</span><span class="p">,</span> <span class="ss">error</span><span class="p">:</span> <span class="n">error</span><span class="p">}</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>usage:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="o">[</span><span class="mi">51</span><span class="o">]</span> <span class="n">pry</span><span class="p">(</span><span class="n">main</span><span class="p">)</span><span class="o">&gt;</span> <span class="n">call_all_methods</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span class='line'><span class="o">=&gt;</span> <span class="p">{</span><span class="ss">:success</span> <span class="o">=&gt;</span>
</span><span class='line'><span class="o">[[</span><span class="ss">:to_s</span><span class="p">,</span> <span class="s2">&quot;1&quot;</span><span class="o">]</span><span class="p">,</span>
</span><span class='line'> <span class="o">[</span><span class="ss">:-@</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="o">]</span><span class="p">,</span>
</span><span class='line'> <span class="o">[</span><span class="ss">:abs</span><span class="p">,</span> <span class="mi">1</span><span class="o">]</span><span class="p">,</span>
</span><span class='line'> <span class="o">[</span><span class="ss">:magnitude</span><span class="p">,</span> <span class="mi">1</span><span class="o">]</span><span class="p">,</span>
</span><span class='line'> <span class="o">[</span><span class="ss">:~</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="o">]</span><span class="p">,</span>
</span><span class='line'> <span class="o">[</span><span class="ss">:to_f</span><span class="p">,</span> <span class="mi">1</span><span class="o">.</span><span class="mi">0</span><span class="o">]</span><span class="p">,</span>
</span><span class='line'> <span class="o">[</span><span class="ss">:size</span><span class="p">,</span> <span class="mi">4</span><span class="o">]</span><span class="p">,</span>
</span><span class='line'> <span class="o">[</span><span class="ss">:zero?</span><span class="p">,</span> <span class="kp">false</span><span class="o">]</span><span class="p">,</span>
</span><span class='line'> <span class="o">[</span><span class="ss">:odd?</span><span class="p">,</span> <span class="kp">true</span><span class="o">]</span><span class="p">,</span>
</span><span class='line'> <span class="o">[</span><span class="ss">:even?</span><span class="p">,</span> <span class="kp">false</span><span class="o">]</span><span class="p">,</span>
</span><span class='line'> <span class="o">[</span><span class="ss">:succ</span><span class="p">,</span> <span class="mi">2</span><span class="o">]</span><span class="p">,</span>
</span><span class='line'> <span class="o">.</span><span class="n">.</span><span class="o">.</span>
</span></code></pre></td></tr></table></div></figure>


<p>also with parameters:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="o">[</span><span class="mi">4</span><span class="o">]</span> <span class="n">pry</span><span class="p">(</span><span class="n">main</span><span class="p">)</span><span class="o">&gt;</span> <span class="n">call_all_methods</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
</span><span class='line'><span class="err">‚ò∫</span><span class="o">=&gt;</span> <span class="p">{</span><span class="ss">:success</span><span class="o">=&gt;</span>
</span><span class='line'>  <span class="o">[[</span><span class="ss">:+</span><span class="p">,</span> <span class="mi">2</span><span class="o">]</span><span class="p">,</span>
</span><span class='line'>   <span class="o">[</span><span class="ss">:-</span><span class="p">,</span> <span class="mi">0</span><span class="o">]</span><span class="p">,</span>
</span><span class='line'>   <span class="o">[</span><span class="ss">:*</span><span class="p">,</span> <span class="mi">1</span><span class="o">]</span><span class="p">,</span>
</span><span class='line'>   <span class="o">[</span><span class="ss">:/</span><span class="p">,</span> <span class="mi">1</span><span class="o">]</span><span class="p">,</span>
</span></code></pre></td></tr></table></div></figure>


<p>Should you be interested in having this as a gem, please tell me (comments or <a href="https://twitter.com/@alvarobiz">@alvarobiz</a>)</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/10/10/tool_building_local_pipeline/">Tool: Building a Local Pipeline</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-10-10T10:06:58+00:00'><span class='date'><span class='date-month'>Oct</span> <span class='date-day'>10</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>10:06 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>Motivation</h2>

<p>At a client, one of the projects has a long building process and the tests are mostly slow, so I use a local building <a href="https://en.wikipedia.org/wiki/Pipeline_(software)">pipeline</a>, an example of the <a href="https://msdn.microsoft.com/library/dn568100.aspx">Pipes and Filters</a> pattern.</p>

<p>This allows for executing manually only the fast unit tests, then automatically (no user intervention, no time spent) executing the rest of them before pushing. In case the latter fails, it is possible to do <code>git push -f</code> to the <code>pipeline</code> without corrupting the central repository (<code>origin</code>) history, possibly disturbing others.</p>

<p>This strategy also allows for parallel modification of sources: you can continue working on your IDE while the compiler is working on the other working directory. Should you introduce any syntax / logical error on your working code, the compiler is not affected, as it has a working copy just for itself.</p>

<h2>Implementation</h2>

<p>This requires two git repositories:</p>

<ul>
<li><code>local</code> or working copy. Configure it so it has a remote called <code>pipeline</code> and the <code>origin</code>, the repository you cloned from. This is a non-bare repository.</li>
<li><code>pipeline</code>, used for building. This also is a non-bare repository.</li>
</ul>


<p>In the <code>local</code> you can do the development and local commits.</p>

<p>When you&rsquo;re done, instead of</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>git push origin <span class="nv">$branch</span>
</span></code></pre></td></tr></table></div></figure>


<p>do</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>git push pipeline <span class="nv">$branch</span>
</span></code></pre></td></tr></table></div></figure>


<p>After the git hook is installed, this will trigger the pipeline execution.</p>

<h3>Git hook</h3>

<p>In the <code>pipeline</code>, in the <code>.git/hooks/post-receive</code> file:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="c">#!/bin/bash</span>
</span><span class='line'>chmod +x pipeline.sh
</span><span class='line'><span class="k">while</span> <span class="nb">read </span>oldrev newrev refname
</span><span class='line'><span class="k">do</span>
</span><span class='line'>  <span class="c"># whatever you want to execute</span>
</span><span class='line'>   <span class="nv">branch</span><span class="o">=</span><span class="k">$(</span>git rev-parse --symbolic --abbrev-ref <span class="nv">$refname</span><span class="k">)</span>
</span><span class='line'>  ./pipeline.sh <span class="nv">$branch</span>
</span><span class='line'><span class="k">done</span>
</span></code></pre></td></tr></table></div></figure>


<p>In the above script, we&rsquo;re telling git to execute the <code>pipeline.sh</code> with the received branch as argument.</p>

<h3>Pipeline executor</h3>

<p>In the <code>pipeline</code> repository, in <code>.git/pipeline.sh</code> file:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="c">#!/bin/bash</span>
</span><span class='line'>
</span><span class='line'><span class="nb">set</span> -e
</span><span class='line'><span class="nb">set</span> -o pipefail
</span><span class='line'>
</span><span class='line'><span class="k">function</span> cleanup <span class="o">{</span>
</span><span class='line'>  git checkout develop
</span><span class='line'>  git pull develop
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'><span class="c"># upon failure, tell the user</span>
</span><span class='line'><span class="k">function</span> err <span class="o">{</span>
</span><span class='line'>  cleanup
</span><span class='line'>  growlnotify <span class="s2">&quot;pipeline fails&quot;</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'><span class="c"># trap signal ERR, executing function &#39;err&#39;</span>
</span><span class='line'><span class="nb">trap</span> <span class="s2">&quot;err&quot;</span> ERR
</span><span class='line'>
</span><span class='line'><span class="nv">branch</span><span class="o">=</span><span class="nv">$1</span>
</span><span class='line'>
</span><span class='line'><span class="k">if</span> <span class="o">[[</span> -z <span class="nv">$branch</span> <span class="o">]]</span><span class="p">;</span> <span class="k">then</span>
</span><span class='line'>    <span class="nb">echo</span> <span class="s2">&quot;need to specify a branch&quot;</span>
</span><span class='line'>    <span class="nb">exit</span> -1
</span><span class='line'><span class="k">fi</span>
</span><span class='line'>
</span><span class='line'>git checkout <span class="nv">$branch</span>
</span><span class='line'>mvn clean install <span class="p">|</span> tee output.log
</span><span class='line'>git push --set-upstream origin <span class="nv">$branch</span>
</span><span class='line'>cleanup
</span></code></pre></td></tr></table></div></figure>


<h4>Pipeline executor explanation</h4>

<ul>
<li><p>We prepare the bash environment:</p>

<ul>
<li><code>-e</code>: fail the script when a command fails</li>
<li><code>-o pipefail</code>: fail the script when some command fails in a pipe</li>
<li><code>err</code> and <code>trap</code>: create a hook to be executed when the signal is trapped</li>
</ul>
</li>
<li><p>We require a branch to execute this script.</p></li>
<li>Checkout to that branch</li>
<li>Clean, compile &amp; execute tests</li>
<li>Push to origin</li>
<li>Clean up</li>
<li>In case this fails, the script will stop and notify the user with <code>growl</code> and clean up.</li>
</ul>


<p>Clean up: checkout to develop (or any other branch that always exists), leaving the system prepared to execute again.</p>

<h3>Notifications: telling the user</h3>

<p>The program <code>growlnotify</code> is a <a href="http://www.growlforwindows.com/gfw/help/growlnotify.aspx">CLI notifier</a> to <code>growl</code> (<a href="http://www.growlforwindows.com/gfw/default.aspx">windows</a>, <a href="http://mattn.github.io/growl-for-linux/">linux</a>)</p>

<h2>Conclusions</h2>

<p>Ideally, the tests should be faster, and executing them locally should always be possible, maybe in the <code>pre-commit</code> hook. Whenever this is not possible, a local pipeline can reduce the time spent waiting for test execution and remove the lock on the working directory while the compiler is working.</p>

<p>This pipeline aims to be simple, without many customizations and being single-user. For more complex workflows and other restrictions, it might be better to drop this project and start investigating continuous integration (CI) tools such as e.g., <a href="https://jenkins-ci.org/">Jenkins</a>, <a href="https://travis-ci.org/">Travis</a>, <a href="https://atlassian.com/software/bamboo">Bamboo</a></p>

<h2>Further work</h2>

<p>The jobs in the <code>pipeline</code> could be queued, so it is possible to push to the pipeline before the previous job has started. See reference below.</p>

<h2>Reference</h2>

<ul>
<li><a href="http://tldp.org/LDP/Bash-Beginners-Guide/html/sect_12_02.html">Trap</a></li>
<li><a href="https://www.gnu.org/software/bash/manual/html_node/The-Set-Builtin.html#The-Set-Builtin">Set Builtin</a></li>
<li><a href="http://idolinux.blogspot.com/2008/08/bash-script-error-handling.html">Sample bash error handling</a></li>
<li><a href="http://superuser.com/questions/220364/how-to-run-commands-as-in-a-queue">Queuing bash jobs</a></li>
</ul>


<h2>Appendix</h2>

<p>This script will push to the pipeline:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="c">#!/bin/bash</span>
</span><span class='line'>
</span><span class='line'>git push pipeline  2&gt;<span class="p">&amp;</span><span class="m">1</span> &gt; /dev/null <span class="p">&amp;</span>
</span></code></pre></td></tr></table></div></figure>



</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/10/07/java-tips-gotchas/">Java Tips & Gotchas</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-10-07T10:06:58+00:00'><span class='date'><span class='date-month'>Oct</span> <span class='date-day'>7</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>10:06 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>JVM default encoding as UTF-8</h2>

<p>Make the JVM use UTF-8 character encoding by default</p>

<p>Set up the system property <code>JAVA_TOOL_OPTIONS</code> to <code>-Dfile.encoding=UTF8</code></p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/posts/2">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2015/12/31/books-read-in-2015q4/">Books Read in 2015Q4</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/12/15/validating-data-clojure/">Validating CSV Data in Clojure</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/12/08/clojure-and-the-macro-and/">Clojure and the Macro And</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/12/02/tip-automate-the-blog-publishing/">Tip: Automate the Blog Publishing</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/12/02/self-study-in-december-2015/">Self-Study in December 2015</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/alvarogarcia7">@alvarogarcia7</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'alvarogarcia7',
            count: 5,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2015 - alvaro garcia -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'thelongwaythroughsoftwarecraftsmanship';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
