
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>The long way through Software Craftsmanship</title>
  <meta name="author" content="alvaro garcia">

  
  <meta name="description" content="This is one of the best legacy code introductions I&rsquo;ve seen: The Grand Redesign in the Sky Eventually the team rebels. They inform management &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://alvarogarcia7.github.io/posts/5">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/stylesheets/data-table.css" media="screen, projection" rel="stylesheet" type="text/css" />
  <link href="/atom.xml" rel="alternate" title="The long way through Software Craftsmanship" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-41008374-3', 'auto');
    ga('send', 'pageview');

  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">The long way through Software Craftsmanship</a></h1>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:alvarogarcia7.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/talks">Talks / Events</a></li>
  <li><a href="/blog/categories">Categories</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/blog/about">About</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/02/21/a-legacy-code-introduction/">A Legacy Code Introduction</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-02-21T20:05:46+01:00'><span class='date'><span class='date-month'>Feb</span> <span class='date-day'>21</span><span class='date-suffix'>st</span>, <span class='date-year'>2015</span></span> <span class='time'>8:05 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>This is one of the best legacy code introductions I&rsquo;ve seen:</p>

<blockquote><p>The Grand Redesign in the Sky</p>

<p>Eventually the team rebels. They inform management that they cannot continue to develop in this odious code base. They demand a redesign. Management does not want to expend the resources on a whole new redesign of the project, but they cannot deny that productivity is terrible. Eventually they bend to the demands of the developers and authorize the grand redesign in the sky.</p>

<p>A new tiger team is selected. Everyone wants to be on this team because it&rsquo;s a greenfield project. They get to start over and create something truly beautiful. But only the best and brightest are chosen for the tiger team. Everyone else must continue to maintain the current system.</p>

<p>Now the two teams are in a race. The tiger team must build a new system that does everything that the old system does. Not only that, they have to keep up with the changes that are continuously being made to the old system. Management will not replace the old system until the new system can do everything that the old system does.</p>

<p>This race can go on for a very long time. I&rsquo;ve seen it take 10 years. And by the time it&rsquo;s done, the original members of the tiger team are long gone, and the current members are demanding that the new system be redesigned because it&rsquo;s such a mess.</p>

<p><cite> Robert C. Martin </cite> in the chapter 1: Clean Code from the book by <a href="http://www.amazon.com/Clean-Code-Handbook-Software-Craftsmanship/dp/0132350882/">the same name</a></p></blockquote>

<p>Also, why should you estimate the new tiger team abilities better than the old tiger team? Is it because the language, tools, or just because they are &ldquo;plain better&rdquo;?</p>

<p>What guarantees that the resulting software is going to be better than the old one?</p>

<p>Another interesting definition of legacy code is Michael Feather&rsquo;s one (code without tests).</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/02/18/the-use-of-power-tools/">The Use of Power Tools</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-02-18T23:25:25+01:00'><span class='date'><span class='date-month'>Feb</span> <span class='date-day'>18</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>11:25 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I&rsquo;m currently reading the Apprenticeship patterns book, out of order (explained here: TODO).</p>

<p>I&rsquo;m writing down the read chapters in a text file, to measure progress and also be able to backtrack if necessary. This also makes reading the book a &ldquo;choose your own adventure&rdquo;</p>

<p>After reading approximately half the chapters, the navigation wasn&rsquo;t so easy using only the &ldquo;see also&rdquo; part. So I decided to break free from that constraint and start reading other chapters. But how do you know which chapters you have left to read? Knowing the whole set (<code>all</code>) and the read set (<code>read</code>) this is just the <code>all - read</code>.</p>

<p>Coming to a more practical way, how to know this is an automated (non-manual) way? There are <code>m</code> in <code>read</code> and n in <code>all</code>, where m &lt;= n.</p>

<p>The simplest approach would be:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>for each current in read:
</span><span class='line'>  remove current from all</span></code></pre></td></tr></table></div></figure>


<p>as read is is no particular order, that would yield some <code>O(m*n)</code>, worst case scenario (<code>m==n</code>), <code>O(n^2)</code>.</p>

<p>That is quite expensive, especially if you have to do it manually</p>

<p>If we use the same algorithm but sort the <code>read</code> set (no longer a set, as sets have no order). Also, converting it to a <code>O(1)</code> lookup table (e.g., a map), that would yield some <code>O(n log2 n + m)</code> that is already better. Taking into account that the sorting can be automated by the computer, it would yield a &ldquo;manual O notation cost&rdquo; of <code>O(1 + m)</code>. So, relative to the amount of chapters you have read.</p>

<p>But we can even do better in terms of this &ldquo;manual big o notation&rdquo;:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>read &lt;- sort read into a map ; cost O(1)
</span><span class='line'>all &lt;- sort all into a map ; cost O(1)
</span><span class='line'>
</span><span class='line'>unread &lt;- all - intersection(all, read) ; cost O(1)</span></code></pre></td></tr></table></div></figure>


<p>And this is where the power tools come into place: if we use <code>comm</code> or <code>diff</code>, the computer will create  the <code>unread</code> set for us, in &ldquo;manual&rdquo; cost of <code>O(1)</code></p>

<h2>Example using vim, sort and diff</h2>

<p>This is the <code>read</code> set (for the moment):</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>the long road
</span><span class='line'>draw your own map
</span><span class='line'>find mentors
</span><span class='line'>the deep end
</span><span class='line'>create feedback loops
</span><span class='line'>the white belt
</span><span class='line'>practice, practice, practice
</span><span class='line'>concrete skills
</span><span class='line'>your first language
</span><span class='line'>use the source
</span><span class='line'>reflect as you work
</span><span class='line'>record what you learn
</span><span class='line'>kindred spirits
</span><span class='line'>nurture your passion
</span><span class='line'>study the classics
</span><span class='line'>expose your ignorance
</span><span class='line'>dig deeper
</span><span class='line'>be the worst
</span><span class='line'>rubbing elbows
</span><span class='line'>unleash your enthusiasm</span></code></pre></td></tr></table></div></figure>


<p>and this is the all set (copy-paste from the book):</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>INTRODUCTION 1 What Is Software Craftsmanship? 3 What Is Apprenticeship? 8 What Is an Apprenticeship Pattern? 9 Where Did the Patterns Come From? 9 Where Do We Go from Here? 10
</span><span class='line'>2 EMPTYING THE CUP 11 Your First Language 13 The White Belt 18 Unleash Your Enthusiasm 22 Concrete Skills 24 Expose Your Ignorance 25 Confront Your Ignorance 28 The Deep End 30 Retreat into Competence 32 Wrapping Up 34
</span><span class='line'>3 WALKING THE LONG ROAD 37 The Long Road 38 Craft over Art 40 Sustainable Motivations 43 Nurture Your Passion 45 Draw Your Own Map 47 Use Your Title 50 Stay in the Trenches 52 A Different Road 53 Wrapping Up 55
</span><span class='line'>4 ACCURATE SELF-ASSESSMENT 57 Be the Worst 58 Find Mentors 61 Kindred Spirits 64 Rubbing Elbows 66 Sweep the Floor 68 Wrapping Up 71
</span><span class='line'>5 PERPETUAL LEARNING 73 Expand Your Bandwidth 74 Practice, Practice, Practice 77 Breakable Toys 79 Use the Source 82 Reflect As You Work 85 Record What You Learn 87 Share What You Learn 89 Create Feedback Loops 91 Learn How You Fail 94 Wrapping Up 95
</span><span class='line'>6 CONSTRUCT YOUR CURRICULUM 99 Reading List 100 Read Constantly 102 Study the Classics 104 Dig Deeper 105 Familiar Tools 109 Wrapping Up 111</span></code></pre></td></tr></table></div></figure>


<p>The first line is not interesting to our purposes, so delete it with:</p>

<p>go to first line (<code>1G</code>), then delete (<code>dd</code>)</p>

<p>After a quick inspection, there&rsquo;s a number at the end of the desired line, so replace it with newline:</p>

<p><code>%s/\d\+/\r/g</code> (a snippet below):</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>EMPTYING THE CUP 
</span><span class='line'> Your First Language
</span><span class='line'> The White Belt 
</span><span class='line'> Unleash Your Enthusiasm 
</span><span class='line'> Concrete Skills 
</span><span class='line'> Expose Your Ignorance
</span><span class='line'> Confront Your Ignorance 
</span><span class='line'> The Deep End 
</span><span class='line'> Retreat into Competence 
</span><span class='line'> Wrapping Up 
</span><span class='line'>
</span><span class='line'>
</span><span class='line'> WALKING THE LONG ROAD </span></code></pre></td></tr></table></div></figure>


<p>The title lines are all uppercase, so delete them with <code>:%g/^\s*\u\u/d</code>:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class=''><span class='line'> Your First Language 
</span><span class='line'> The White Belt 
</span><span class='line'> Unleash Your Enthusiasm
</span><span class='line'> Concrete Skills 
</span><span class='line'> Expose Your Ignorance
</span><span class='line'> Confront Your Ignorance
</span><span class='line'> The Deep End
</span><span class='line'> Retreat into Competence
</span><span class='line'> Wrapping Up 
</span><span class='line'> 
</span><span class='line'> 
</span><span class='line'> The Long Road </span></code></pre></td></tr></table></div></figure>


<p>explanation:</p>

<ul>
<li><code>:</code> : command</li>
<li><code>%</code> : in all the file</li>
<li><code>g</code> : do (I remember it as &lsquo;go&rsquo;)</li>
<li><code>^</code> : starting at the beginning</li>
<li><code>\s*</code>: whitsepace, as much a possible</li>
<li><code>\u\u</code>: exactly to uppercase letters. Can also be expressed as <code>\u\{2}</code></li>
<li><code>d</code> : delete</li>
</ul>


<p>for more information on vim&rsquo;s regex, go <a href="http://vimregex.com/">here</a></p>

<p>but there are empty lines. Delete them with: <code>%g/^$/d</code>:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class=''><span class='line'> Your First Language
</span><span class='line'> The White Belt
</span><span class='line'> Unleash Your Enthusiasm
</span><span class='line'> Concrete Skills
</span><span class='line'> Expose Your Ignorance 
</span><span class='line'> Confront Your Ignorance
</span><span class='line'> The Deep End 
</span><span class='line'> Retreat into Competence
</span><span class='line'> The Long Road</span></code></pre></td></tr></table></div></figure>


<p>there is a space at the beginning of the line, delete it with <code>:%s/^ //</code>:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Your First Language 
</span><span class='line'>The White Belt 
</span><span class='line'>Unleash Your Enthusiasm 
</span><span class='line'>Concrete Skills 
</span><span class='line'>Expose Your Ignorance  
</span><span class='line'>Confront Your Ignorance 
</span><span class='line'>The Deep End  
</span><span class='line'>Retreat into Competence 
</span><span class='line'>Wrapping Up  
</span><span class='line'>The Long Road  </span></code></pre></td></tr></table></div></figure>


<p>there are upper and lowercase letters. You could find a way of doing it with vi, but I prefer something that I can remember: save the document, then process it with <code>awk</code> and <code>sort</code></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>cat all.txt <span class="p">|</span> awk <span class="s1">&#39;{print tolower($0)&#39;</span><span class="o">}</span><span class="p">|</span> sort &gt; all_sorted.txt
</span></code></pre></td></tr></table></div></figure>


<p>(snippet):</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>a different road
</span><span class='line'>be the worst
</span><span class='line'>breakable toys
</span><span class='line'>concrete skills
</span><span class='line'>confront your ignorance
</span></code></pre></td></tr></table></div></figure>


<p>If needed, sort and downcase the read.txt too.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>cat read.txt <span class="p">|</span> awk <span class="s1">&#39;{print tolower($0)&#39;</span><span class="o">}</span><span class="p">|</span> sort &gt; read_sorted.txt
</span></code></pre></td></tr></table></div></figure>


<p>I tried using <code>comm</code>, but it wasn&rsquo;t so useful (because of whitespace).</p>

<p>Tried <code>diff</code>:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>diff read_sorted.txt all_sorted.txt  -bBw &gt; to_read.txt
</span><span class='line'>
</span><span class='line'>0a1
</span><span class='line'>&gt; a different road
</span><span class='line'>1a3
</span><span class='line'>&gt; breakable toys
</span><span class='line'>2a5,6
</span><span class='line'>&gt; confront your ignorance
</span><span class='line'>&gt; craft over art
</span><span class='line'>5a10
</span><span class='line'>&gt; expand your bandwidth
</span><span class='line'>6a12
</span><span class='line'>&gt; familiar tools
</span><span class='line'>8a15
</span></code></pre></td></tr></table></div></figure>


<p>to know which are the remain chapters:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>cat to_read.txt <span class="p">|</span> grep <span class="s2">&quot;&gt;&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<p>to count the number of remaining chapters:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>cat to_read.txt <span class="p">|</span> grep <span class="s2">&quot;&gt;&quot;</span> <span class="p">|</span> wc -l
</span></code></pre></td></tr></table></div></figure>


<p>The lesson learned here is to master your tools. This would have cost me a few minutes if done manually as the list was short, too much time if long (>1000 lines).</p>

<p>On a funny note, it has taken me approximately 2 min to do this processing but ~45 minutes to write this blog post. So I don&rsquo;t recommend you write as many posts as processings you do.</p>

<p>To quote Apprenticeship patterns, <a href="http://chimera.labs.oreilly.com/books/1234000001813/ch03.html#solution_id16">A different road</a>:</p>

<blockquote><p>If you walk away from software development, you will find that the habit of rigorous thinking and automating tasks involving large volumes of data will still be useful wherever you go</p>

<p>D Hoover, A Oshineye</p></blockquote>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/02/15/open-discussion-behaviour-driven-development/">Open Discussion: Behaviour-Driven Development</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-02-15T02:30:38+01:00'><span class='date'><span class='date-month'>Feb</span> <span class='date-day'>15</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>2:30 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>This week we had a great discussion about Behavior Driven Development (BDD). We have explained it as a way of developing software based on requirements, via automatically tested specifications. For more information, see the <a href="http://en.wikipedia.org/wiki/Behavior-driven_development">wikipedia&rsquo;s article on the subject</a></p>

<p>I forgot to mention that this is the perfect start to TDD, as this is usually called the double-loop TDD. See a post on it on <a href="http://coding-is-like-cooking.info/2013/04/outside-in-development-with-double-loop-tdd/">coding is like cooking</a></p>

<p>In this double-loop TDD, the first thing is to create a BDD scenario, run it (red-1), create a unit test that reflects this red (red-2), pass it, refactor; go to red-1 as many times as you need, doing TDD cycles. When you think the feature is done, execute the BDD scenarios and go to green (outer layer) and refactor.</p>

<h2>(Our) Common setting</h2>

<p>Going back to BDD, a common scenario would be the following:</p>

<p>Layers of software:</p>

<ul>
<li>Domain-Specific Language (DSL). See <a href="http://en.wikipedia.org/wiki/Domain-specific_language">wikipedia&rsquo;s article</a></li>
<li>Test adapter: an interpreter for this DSL</li>
<li>Test software: test fixtures, methods, structures to arrange, act, and assert on the sut</li>
<li>Production software (system under test - SUT): thing being tested</li>
</ul>


<h2>A BDD test vs A TDD test</h2>

<p>Let&rsquo;s imagine a BDD test for a <a href="http://en.wikipedia.org/wiki/Linked_list">linked list</a>:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Given I have an empty list
</span><span class='line'>When I add an element
</span><span class='line'>Then I have an element on the list</span></code></pre></td></tr></table></div></figure>


<p>now, the same test in TDD [using java, junit 4, hamcrest]</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="nd">@Test</span>
</span><span class='line'><span class="kd">public</span> <span class="kt">void</span> <span class="nf">add_an_element_to_an_empty_list</span><span class="o">(){</span>
</span><span class='line'>  <span class="n">MyLinkedList</span> <span class="n">linkedList</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">MyLinkedList</span><span class="o">();</span>
</span><span class='line'>
</span><span class='line'>  <span class="n">linkedList</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">&quot;something&quot;</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'>  <span class="n">assertThat</span><span class="o">(</span><span class="n">linkedList</span><span class="o">.</span><span class="na">size</span><span class="o">(),</span> <span class="n">is</span><span class="o">(</span><span class="mi">1</span><span class="o">));</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>In some aspects, a BDD and a TDD test are similar:</p>

<ul>
<li>the given is the arrange, i.e., the prerequisite</li>
<li>the when is the act, i.e., the command</li>
<li>the then is the assertion, i.e., the postcondition</li>
</ul>


<p>(for more information on this, see <a href="http://en.wikipedia.org/wiki/Hoare_logic">Hoare&rsquo;s triple</a>)</p>

<p>But in others, they are not. In BDD you do not specify the APIs, methods, etc. You only care about behavior.</p>

<h2>Conclusion</h2>

<p>Benefits:</p>

<ul>
<li>everyone might involved in the specification by example workshops (source: <a href="http://www.amazon.com/ATDD-Example-Test-Driven-Development-Addison-Wesley/dp/0321784154">ATDD by example</a>)</li>
<li>live specifications. managers can now understand the real state</li>
<li><a href="http://en.wikipedia.org/wiki/Regression_testing">regression tests</a> are much cheaper (from automation)</li>
</ul>


<p>Gotchas:</p>

<ul>
<li>Test only the happy paths</li>
<li>This has a cost, do not overdo it</li>
<li>Doesn&rsquo;t remove manual tests</li>
<li>How do you manage multiple scenarios</li>
<li>How fast should it be?</li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/02/09/implementing-bdd-at-a-client/">Implementing BDD at a Client</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-02-09T22:23:44+01:00'><span class='date'><span class='date-month'>Feb</span> <span class='date-day'>9</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>10:23 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>This was a low-hanging fruit as a team member who specialises in QA complained about testing in the last moment during the last sprint&rsquo;s retrospective.</p>

<p>Did the grunt job of connecting the dots and configuring the maven project (using jbehave). Also, got the inspiration from a tutorial.</p>

<p>Announced it only as it was in place and QA approved of it</p>

<p>This grunt job clicked with <a href="http://chimera.labs.oreilly.com/books/1234000001813/ch04.html#solution_id21">Sweep the floor</a></p>

<p>Let&rsquo;s see how the sprint goes and what are the pain points during this sprint</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/02/07/open-discussion-on-code-reviews/">Open Discussion: On Code Reviews</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-02-07T18:54:54+01:00'><span class='date'><span class='date-month'>Feb</span> <span class='date-day'>7</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>6:54 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>At a client, I organized an open discussion on code reviews. We had a great conversation.</p>

<p>The main idea was to discuss about it and share the ideas each one had. I didn&rsquo;t want it to turn into a masterclass (see <a href="http://chimera.labs.oreilly.com/books/1234000001813/ch02.html#the_white_belt">the white belt</a>)</p>

<h2>Benefits</h2>

<p>These are the main benefits we saw in it:</p>

<ul>
<li>Increased trust</li>
<li>Learning from others, other approaches</li>
<li>Less defects, more quality</li>
<li>Increased <a href="http://en.wikipedia.org/wiki/Bus_factor">bus factor</a>, decreased information silos</li>
<li>Also:

<ul>
<li>Getting out of your comfort zone</li>
<li>Communicating more often (code style, edge cases, complaining, etc)</li>
</ul>
</li>
</ul>


<h2>Pair programming</h2>

<p>Then we discussed about the topic of <a href="/blog/categories/code-review">code reviews</a> and <a href="/blog/categories/pair-programming/">pair programming</a>:</p>

<ul>
<li><p>How do they mix</p>

<ul>
<li>Is the need for code review reduced when doing pair programming?</li>
<li>It is cheaper to catch defects when pairing than code review (e.g., less to modify, mental caches are hot, &hellip;), so why do code reviews? <a href="https://twitter.com/jbrains">J. B. Rainsberger</a> has an <a href="http://us2.campaign-archive2.com/?u=80ca60ec48ef77dfaa1f38943&amp;id=acc77a0fb2&amp;e=4a925444f9">article</a> about it</li>
</ul>
</li>
<li><p>Does it give you the same benefits?</p>

<ul>
<li>I argued that it does, some of my colleagues argued against as one is &ldquo;while doing&rdquo; and the other is after.</li>
</ul>
</li>
</ul>


<h2>Practice, Practice, Practice</h2>

<p>This is also a reference to a chapter by the same name (<a href="http://chimera.labs.oreilly.com/books/1234000001813/ch05.html#practice_comma_practice_comma_practice">here</a>)</p>

<p>We proposed this problem:</p>

<blockquote><p>Receive a list of numbers to a command-line (CLI) application and print their sum</p></blockquote>

<p>I wrote simple code listing and we reviewed it. The code is <a href="https://gist.github.com/alvarogarcia7/258faea12cb9375539fe">here as a gist</a></p>

<p>(Just in case, I wrote this listing with some defects / smells on purpose)</p>

<p>Here are the comments:</p>

<ul>
<li>Not all parameters will be added, only the first three</li>
<li>The parameters are out of order, overcomplicating things. Is it due to something? Should I be careful about it?</li>
<li>There is duplication (i.e., parsing from string)</li>
<li>Bad naming: what is <code>a</code>, <code>b</code>, <code>c</code>?</li>
<li>There are no tests for it. No manual / javadoc either. Therefore, it&rsquo;s difficult to maintain</li>
<li><p>Difficult to test: a smell for bad design?</p>

<ul>
<li>How to test the adding by itself? The output is to the console, so we have to capture it (at GMaur we published this tool: <a href="https://github.com/GMaur/legacyutils">legacyUtils</a>)</li>
<li>How to test the parsing if there is no mock to be injected? Only via state tests, therefore &ldquo;end to end&rdquo; tests as it includes the adding</li>
</ul>
</li>
<li><p>Mixed concerns / responsibilities. Parsing the numbers and adding them are different concerns and should not be together</p></li>
</ul>


<h2>Conclusion</h2>

<ul>
<li>No one was against it</li>
<li>We all agreed that is important to do it even in time-constrained environments</li>
<li>It is also important to review our code reviews to make the most of it. The article by <a href="http://us2.campaign-archive2.com/?u=80ca60ec48ef77dfaa1f38943&amp;id=acc77a0fb2&amp;e=4a925444f9">J. B. Rainsberger</a> is quite useful for that</li>
<li>Even small codes can be bad and need to be reviewed (as the example)</li>
<li>Quick and dirty proof of concept do not mix well with code reviews</li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/02/03/pairing-with-junior-developers/">Pairing With Junior Developers</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-02-03T23:40:21+01:00'><span class='date'><span class='date-month'>Feb</span> <span class='date-day'>3</span><span class='date-suffix'>rd</span>, <span class='date-year'>2015</span></span> <span class='time'>11:40 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>After reading <a href="https://devmynd.com/blog/2015-1-pairing-with-junior-developers">this blog post</a>, here are my thoughts:</p>

<p><strong>WARNING</strong>: the post was about how to do it, these reflections are on a more philosophical level</p>

<p>This is a controversial topic, as:</p>

<ul>
<li>You cannot discern how much or little the other person knows more than you. I cannot find the reference anymore, but it was a to the tune of &ldquo;once the other person&rsquo;s level is higher than yours, you cannot know how much&rdquo;</li>
<li>There are different knowledge areas. Yours and theirs might overlap on some areas, but not completely. So they may be experts on an area that is not useful to the technology you&rsquo;re currently using.</li>
<li>Different people have different passions and motivators.</li>
</ul>


<p>When and where are you a junior and a senior?</p>

<ul>
<li>Does it depend on each job?</li>
<li>Is it on each product you work?</li>
<li>Is it on each team?</li>
</ul>


<blockquote><p>&ldquo;when you join a new project you are starting from square one&rdquo;</p>

<p><cite> D. Hoover, A. Oshineye </cite> in the chapter <a href="http://chimera.labs.oreilly.com/books/1234000001813/ch04.html#solution_id21">Sweep the floor</a>, <a href="http://chimera.labs.oreilly.com/books/1234000001813/index.html">Apprenticeship patterns</a></p></blockquote>

<p>Related to the amount of senior people, is there only one senior per team?</p>

<ul>
<li>Can everybody be a senior? If we assert this is true, what about &ldquo;if everything matters, nothing matters&rdquo;. Does that mean that everyone is senior or there are different levels of seniority and we call &ldquo;the senior&rdquo; the one on the top of the list?</li>
<li>Who choses the senior within the team? Is it self-organized, self-chosen? Do the people chose one? Is a shared responsibility, as each one masters a (possibly different) subject?</li>
</ul>


<p>Food for thought.</p>

<p>What do you think about it?</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/02/02/book-diseno-agil-con-tdd-spanish/">Book: Diseño Ágil Con TDD (Spanish)</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-02-02T21:32:21+01:00'><span class='date'><span class='date-month'>Feb</span> <span class='date-day'>2</span><span class='date-suffix'>nd</span>, <span class='date-year'>2015</span></span> <span class='time'>9:32 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I&rsquo;ve read this book <a href="http://www.carlosble.com/libro-tdd/">Diseño Ágil con TDD</a> (Spanish) by
<a href="https://twitter.com/carlosble">Carlos Blé</a> from cover to cover,
when previously I had only read the theoretical parts (Part I and Chapter 12 in Part II).</p>

<p>It&rsquo;s worth noting that this is the first TDD book in Spanish (I haven&rsquo;t found any book in Spanish predating this one - also backed by the author; published in January 2010) and, as such, there are some translations that could be improved. Not that it makes it more difficult to read. Sometimes it&rsquo;s a good idea to roughly translate concepts into English and then you&rsquo;ll understand the point.</p>

<h2>First part</h2>

<p>The first part is very interesting, a theoretical introduction into TDD, ATDD and Agile methodologies. Points to some good books as a reference (e.g., Growing Object Oriented Software, Guided by Tests; Working Effectively with Legacy Code; Refactoring; etc)</p>

<p>He explains the TDD algorithm (chapter 2) and the ATDD one (chapter 3). These two are maybe the two most important ones on the book. Should you read only a part of this book, I&rsquo;d recommend to read the motivational intro (the fable on the preface) and these two.</p>

<p>He gives excellent pieces of advice who, correctly applied, would set the basis for good software development, such as SOLID, Object Oriented Design (OOD), Inversion of Control (IoC), etc. (See chapter 7, &ldquo;Diseño orientado a objetos&rdquo;).</p>

<p>There&rsquo;s a chapter (number 6) on &ldquo;Mocks and other test doubles&rdquo; (translation is mine)</p>

<h2>Second part</h2>

<p>The second part, as many other books where the source code is printed, was dense for me. Other books, such as <a href="http://www.growing-object-oriented-software.com/">GOOS</a>, show differences in content with bold typeface, to ease the reader&rsquo;s task.  In my opinion, it would be useful to color the diffs, show them on the left and right, or even show the raw diff (e.g., <code>+++</code> <code>---</code>). I&rsquo;m envisioning a typing program as LaTeX where you could specify a commit with its parent and a range of lines to output.</p>

<p>The second part is written in C# and python, to show a TDD session with him. Warning: it&rsquo;s much better in person than reading his book!</p>

<p>The chapter 12 is a set of antipatterns you might find after starting with TDD. Even after you keep practicing TDD for a while, you will not get rid of these smells. Highly recommended.</p>

<p>There&rsquo;s also an appendix on Continuous Integration, although there are better books for this.</p>

<h2>Conclusion</h2>

<p>Recommend this book if you are starting with TDD, or you are more advanced but it&rsquo;s difficult for you to read in English.</p>

<p>Always good as a refresher to read the theoretical part and the antipatterns</p>

<p>PS: This book is free to read, published under a Creative Commons license (don&rsquo;t know exactly which one)</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/02/02/your-first-language/">Your First Language</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-02-02T21:25:37+01:00'><span class='date'><span class='date-month'>Feb</span> <span class='date-day'>2</span><span class='date-suffix'>nd</span>, <span class='date-year'>2015</span></span> <span class='time'>9:25 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>After reading (in a specific order - below) part of the patterns in <a href="http://shop.oreilly.com/product/9780596518387.do">Apprenticeship Patterns</a>,
I stumbled upon the <a href="http://chimera.labs.oreilly.com/books/1234000001813/ch02.html#your_first_language">&ldquo;Your First Language&rdquo;</a></p>

<p>First of all, the illustration with the baby reading a Java book is priceless.</p>

<p>Having said that, I came to the realization that you might not know a paradigm but just an implementation
(e.g., you don&rsquo;t know about Object-Oriented programming but just about Java), in the same fashion as you could not know about LISPs but only about an implementation, such as clojure.</p>

<p>Also, clicks with the idea of &ldquo;code to interfaces, not implementations&rdquo;. Does it also click with you?</p>

<p>PS: What a great book this is. I&rsquo;m reading it as explained <a href="../../../../2015/04/25/how-i-read-apprenticeship-patterns/">here</a> <sup id="fnref:1"><a href="#fn:1" rel="footnote">1</a></sup></p>

<p>PPS: you can read it online for free, <a href="http://chimera.labs.oreilly.com/books/1234000001813/">here</a></p>
<div class="footnotes">
<hr/>
<ol>
<li id="fn:1">
<p>This post was extracted on 2015-04-25. The refactor techniques are very useful, not only for programming<a href="#fnref:1" rev="footnote">&#8617;</a></p></li>
</ol>
</div>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/01/24/podcast-basta-ya-de-picar-spanish/">Podcast: Basta Ya De Picar (Spanish)</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-01-24T21:03:03+01:00'><span class='date'><span class='date-month'>Jan</span> <span class='date-day'>24</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>9:03 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Some weeks ago I listened to some podcasts from <a href="http://www.bastayadepicar.com">BastaYaDePicar</a> (episodes 1 to 8) and now I&rsquo;m listening more (9 to 10). I really recommend these to you, and I imagine that the newer episodes (also new format) will be interesting too.</p>

<p>They&rsquo;re in Spanish and narrated by <a href="https://twitter.com/sbastn">Sebastian Hermida</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/01/24/code-snippets-stash/">Code Snippets Stash</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-01-24T20:49:55+01:00'><span class='date'><span class='date-month'>Jan</span> <span class='date-day'>24</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>8:49 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Following a team member&rsquo;s recommendation, I recently started a repository to save all my useful snippets.</p>

<p>I&rsquo;ve decided that the examples should be designed guided by tests or at least to have a working example exercised by tests. Also, that I should not reinvent the wheel and use as many open source libraries as possible, reducing the amount of code I have to write myself.</p>

<p>Ideally, every snippet should be a maven project (where applicable) and be imported as a small library, therefore being able to reuse the functionality incrementally across projects.</p>

<p>For the time being, I&rsquo;m saving my snippets into a private repository and later I might decide to publish it for common usage.</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/posts/6">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/posts/4">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2015/06/14/types-of-defects/">Types of Defects</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/06/11/brownbag-session-refactoring/">Brown-bag Session: Refactoring</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/06/03/self-study-in-june-2015/">Self-study in June 2015</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/06/02/internal-training-bpm-tool-and-process/">Internal Training: BPM: Process and Tools for Developers</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/05/18/internal-training-qa-and-how-to-test/">Internal Training: QA &amp; How to Test</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/alvarogarcia7">@alvarogarcia7</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'alvarogarcia7',
            count: 5,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2015 - alvaro garcia -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'thelongwaythroughsoftwarecraftsmanship';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
