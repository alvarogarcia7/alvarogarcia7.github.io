<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width,minimum-scale=1,maximum-scale=1">

  
  <link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
  <link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <title>Blogs</title>

  
  
  <link rel="stylesheet" href="https://alvarogarcia7.github.io/css/hugo-octopress.css">

  
  

  
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">

  
  <link href="https://alvarogarcia7.github.io/favicon.png" rel="icon">

  
  
  

  <link href="https://alvarogarcia7.github.io/blog/index.xml" rel="alternate" type="application/rss+xml" title="The long way through Software Craftsmanship" />

  <meta name="description" content="">
  <meta name="keywords" content="">

  <meta name="author" content="Alvaro Garcia">

  
  <meta name="generator" content="Hugo 0.16" />

  
  

</head>
<body>


<header role="banner"><hgroup>
  
  <h1><a href="https://alvarogarcia7.github.io/">The long way through Software Craftsmanship</a></h1>
    <h2></h2>
</hgroup></header>


<nav role="navigation">

<ul class="main-navigation">
  
  
    
      <li><a href="https://alvarogarcia7.github.io/blog/" target="_blank" title="Breadcrumbs">Breadcrumbs</a></li>
    
  
    
      <li><a href="https://alvarogarcia7.github.io/articles/" target="_blank" title="Articles">Articles</a></li>
    
  
    
      <li><a href="https://alvarogarcia7.github.io/blog/talks" target="_blank" title="Talks / Events">Talks / Events</a></li>
    
  
    
      <li><a href="https://alvarogarcia7.github.io/categories/" target="_blank" title="Categories">Categories</a></li>
    
  
    
      <li><a href="https://alvarogarcia7.github.io/blog/archives/" target="_blank" title="Archives">Archives</a></li>
    
  
    
      <li><a href="https://alvarogarcia7.github.io/blog/about/" target="_blank" title="About">About</a></li>
    
  
</ul>


<ul class="subscription">
  <a href="https://alvarogarcia7.github.io/index.xml" target="_blank" type="application/rss+xml" title="RSS"><i class="fa fa-rss-square fa-lg"></i></a>

  
  

</ul>


<form action="https://www.google.com/search" method="get" target="_blank">
  <fieldset role="search">
  	<input class="search" type="text" name="q" results="0" placeholder="Search"/>
    <input type="hidden" name="q" value="site:https://alvarogarcia7.github.io/" />
  </fieldset>
</form>

</nav>


<div id="main">
 <div id="content">
  <div class="blog-index">
    
    
    <article>

        
        

<header>
    <h1 class="entry-title">
        <a href="https://alvarogarcia7.github.io/blog/2015/04/17/the-guardian-of-the-source/">The Guardian of the Source</a>
    </h1>
    <p>Apr 17, 2015
         - 2 minute read 
         - <a href="https://alvarogarcia7.github.io/blog/2015/04/17/the-guardian-of-the-source/#disqus_thread">Comments</a>

        
        
        
            - <a class="label" href="https://alvarogarcia7.github.io/categories/craftsmanship/">craftsmanship</a><a class="label" href="https://alvarogarcia7.github.io/categories/guardian/">guardian</a><a class="label" href="https://alvarogarcia7.github.io/categories/source/">source</a><a class="label" href="https://alvarogarcia7.github.io/categories/value/">value</a><a class="label" href="https://alvarogarcia7.github.io/categories/added-value/">added-value</a><a class="label" href="https://alvarogarcia7.github.io/categories/pull-request/">pull-request</a><a class="label" href="https://alvarogarcia7.github.io/categories/client/">client</a><a class="label" href="https://alvarogarcia7.github.io/categories/guardian-of-the-source/">guardian-of-the-source</a><a class="label" href="https://alvarogarcia7.github.io/categories/collaboration/">collaboration</a><a class="label" href="https://alvarogarcia7.github.io/categories/analogy/">analogy</a><a class="label" href="https://alvarogarcia7.github.io/categories/socra/">socra</a><a class="label" href="https://alvarogarcia7.github.io/categories/sandro-mancuso/">sandro-mancuso</a>
        
    </p>
</header>


        
        <p>Overheard today at the office, while they were discussing the approval of a pull request:</p>

<blockquote>
<p>[Pull request reviewer] - I&rsquo;m sorry, can&rsquo;t approve this: I don&rsquo;t really agree with this design. Isn&rsquo;t there an alternative for this?</p>

<p>[Pull request author] - [redacted], of course you don&rsquo;t, you&rsquo;re the guardian of the source</p>

<p>[PR reviewer] - Well, sometimes I&rsquo;m a bit picky about introducing bad code into our codebase.</p>
</blockquote>

<p>This has made me think about Gandalf blocking the path of Balrog Demon, shouting &ldquo;<a href="http://knowyourmeme.com/memes/you-shall-not-pass" target="_blank">you shall not pass</a>&rdquo; while on top of the bridge.</p>

<p>This is part of the objectives of doing a pull request before merging code: stop the bad code<sup class="footnote-ref" id="fnref:1"><a rel="footnote" href="#fn:1">1</a></sup> before it is merged to the codebase.</p>

<p>Later, as you start having <a href="http://en.wikipedia.org/wiki/Broken_windows_theory" target="_blank">broken windows</a> in your codebase, it is easier that you start introducing more. Exactly about this is the <a href="http://en.wikipedia.org/wiki/Broken_windows_theory" target="_blank">broken windows theory</a>.</p>

<p>On the other hand, if you try to block that bad code before it is merged, it is cheaper to remove it: nothing depends on it, you introduce no repetition, etc<sup class="footnote-ref" id="fnref:2"><a rel="footnote" href="#fn:2">2</a></sup></p>

<p>This also connects with the idea present in <a href="http://www.amazon.com/The-Software-Craftsman-Professionalism-Pragmatism/dp/0134052501" target="_blank">Software Craftsmanship, now called The Software Craftsman</a>, about preserving value for investors and treat software as an investment (with positive ROI) rather than a sunk cost.</p>

<p>It is being picky and, to the most of our possibilities, do not letting any defects nor bad code into the codebase. A hedge fund manager would not let any toxic or dubious asset into the managed funds. This would be counterproductive in the long run (maybe even in the short one) and would be not doing their job correctly. Why is it that some developers suggest or accept these toxic assets?</p>

<p>So, at least for me, would be an honor to be called the &ldquo;Guardian of the Source&rdquo; by someone I respect, as long as this is a serious proposition (i.e., not a joke of some kind).</p>
<div class="footnotes">

<hr />

<ol>
<li id="fn:1">Bad code can be expressed in many ways: long methods, bad naming, breaking design principles (e.g., SOLID, KISS, DRY - OAOO), code with defects, no tests or no coverage, etc.
 <a class="footnote-return" href="#fnref:1"><sup>[return]</sup></a></li>
<li id="fn:2">A source is <a href="http://c2.com/cgi/wiki?DiscoverDefectsEarly" target="_blank">Discover defects early</a>. Another is <a href="http://developers.slashdot.org/story/03/10/21/0141215/software-defects---do-late-bugs-really-cost-more" target="_blank">this paper</a> that cites the ratio of fixing it later to 5:1 (five times more expensive).
 <a class="footnote-return" href="#fnref:2"><sup>[return]</sup></a></li>
</ol>
</div>

        

    </article>
    
    <article>

        
        

<header>
    <h1 class="entry-title">
        <a href="https://alvarogarcia7.github.io/blog/2015/04/14/inserting-clojure-code-in-octopress/">Inserting clojure code in octopress</a>
    </h1>
    <p>Apr 14, 2015
         - 1 minute read 
         - <a href="https://alvarogarcia7.github.io/blog/2015/04/14/inserting-clojure-code-in-octopress/#disqus_thread">Comments</a>

        
        
        
            - <a class="label" href="https://alvarogarcia7.github.io/categories/meta/">meta</a><a class="label" href="https://alvarogarcia7.github.io/categories/octopress/">octopress</a><a class="label" href="https://alvarogarcia7.github.io/categories/blogging/">blogging</a><a class="label" href="https://alvarogarcia7.github.io/categories/code/">code</a><a class="label" href="https://alvarogarcia7.github.io/categories/lisp/">lisp</a><a class="label" href="https://alvarogarcia7.github.io/categories/clojure/">clojure</a>
        
    </p>
</header>


        
        <p>Inserting this code in the blog:</p>

<pre><code>```clojure
(defn all-access[k]
    (let [{:keys [a b] :as k}]
        (do a)
        (do (:b k))))
```
</code></pre>

<p>the octopress processor throws the error:</p>

<pre><code>Error: Pygments can't parse unknown language: clojure
Error: Run jekyll build --trace for more information.
</code></pre>

<p>A solution would be to include it as lisp code:</p>

<pre><code>```lisp
(defn all-access[k]
    (let [{:keys [a b] :as k}]
        (do a)
        (do (:b k))))
```
</code></pre>

<p>this is an example:</p>
<div class="highlight"><pre><code class="language-lisp" data-lang="lisp"><span class="p">(</span><span class="nv">defn</span> <span class="nv">all-access[k]</span>
	<span class="p">(</span><span class="k">let</span> <span class="nv">[{:keys</span> <span class="nv">[a</span> <span class="nv">b]</span> <span class="ss">:as</span> <span class="nv">k}]</span>
		<span class="p">(</span><span class="nb">do</span> <span class="nv">a</span><span class="p">)</span>
		<span class="p">(</span><span class="nb">do</span> <span class="p">(</span><span class="ss">:b</span> <span class="nv">k</span><span class="p">))))</span>
</code></pre></div>

        

    </article>
    
    <article>

        
        

<header>
    <h1 class="entry-title">
        <a href="https://alvarogarcia7.github.io/blog/2015/04/14/destructuring-as-a-refactor-in-clojure/">Destructuring as a refactor in Clojure</a>
    </h1>
    <p>Apr 14, 2015
         - 1 minute read 
         - <a href="https://alvarogarcia7.github.io/blog/2015/04/14/destructuring-as-a-refactor-in-clojure/#disqus_thread">Comments</a>

        
        
        
            - <a class="label" href="https://alvarogarcia7.github.io/categories/clojure/">clojure</a><a class="label" href="https://alvarogarcia7.github.io/categories/refactor/">refactor</a><a class="label" href="https://alvarogarcia7.github.io/categories/destructuring/">destructuring</a><a class="label" href="https://alvarogarcia7.github.io/categories/parallel-change/">parallel-change</a>
        
    </p>
</header>


        
        <p><a href="https://twitter.com/@trikitrok" target="_blank">Manuel</a> has taught us today about the default value while destructuring:</p>

<blockquote>
<p>The following example illustrates the use of an :as directive to bind a local with the entire map.</p>
</blockquote>

<pre><code>user=&gt; (def point {:x 5 :y 7})
#'user/point

(let [{:keys [x y] :as the-point} point]
         (println &quot;x:&quot; x &quot;y:&quot; y &quot;point:&quot; the-point))

x: 5 y: 7 point: {:x 5, :y 7}
</code></pre>

<blockquote>
<p>We&rsquo;ve now seen the :as directive used for both vectors and maps. In both cases the local is always assigned to the entire expression that is being destructured.</p>
</blockquote>

<p><a href="http://blog.jayfields.com/2010/07/clojure-destructuring.html" target="_blank">Source</a></p>

<p>This has been used for a method like this one:</p>
<div class="highlight"><pre><code class="language-lisp" data-lang="lisp"><span class="p">(</span><span class="nv">defn</span> <span class="nv">all-access[k]</span>
  <span class="p">(</span><span class="nb">do</span> <span class="p">(</span><span class="ss">:a</span> <span class="nv">k</span><span class="p">))</span>
  <span class="p">(</span><span class="nb">do</span> <span class="p">(</span><span class="ss">:b</span> <span class="nv">k</span><span class="p">)))</span>
</code></pre></div>

<p>this has been refactored to this</p>
<div class="highlight"><pre><code class="language-lisp" data-lang="lisp"><span class="p">(</span><span class="nv">defn</span> <span class="nv">all-access[k]</span>
  <span class="p">(</span><span class="k">let</span> <span class="nv">[{:keys</span> <span class="nv">[a</span> <span class="nv">b]</span> <span class="ss">:as</span> <span class="nv">k}]</span>
	  <span class="p">(</span><span class="nb">do</span> <span class="nv">a</span><span class="p">)</span>
	  <span class="p">(</span><span class="nb">do</span> <span class="p">(</span><span class="ss">:b</span> <span class="nv">k</span><span class="p">))))</span>
</code></pre></div>

<p>the best thing about this is I can introduce the keys to the array while keeping the original map (<code>k</code>) and, when I&rsquo;m ready, to change some of the accesses to <code>k</code> to its destructured variables.</p>

        

    </article>
    
    <article>

        
        

<header>
    <h1 class="entry-title">
        <a href="https://alvarogarcia7.github.io/blog/2015/04/13/redesign-as-a-new-tdd-phase/">Redesign as a new TDD phase</a>
    </h1>
    <p>Apr 13, 2015
         - 2 minute read 
         - <a href="https://alvarogarcia7.github.io/blog/2015/04/13/redesign-as-a-new-tdd-phase/#disqus_thread">Comments</a>

        
        
        
            - <a class="label" href="https://alvarogarcia7.github.io/categories/redesign/">redesign</a><a class="label" href="https://alvarogarcia7.github.io/categories/tdd/">tdd</a><a class="label" href="https://alvarogarcia7.github.io/categories/theory/">theory</a>
        
    </p>
</header>


        
        

<p>In the last TDD workshop (experience report <a href="../../../../2015/04/12/jason-gorman-tdd-intensive-workshop">here</a>), a conversation with <a href="http://twitter.com/@garymcleanhall" target="_blank">Gary McLean Hall</a> introduced to me this new concept of &ldquo;Redesign&rdquo; as a TDD phase.</p>

<h2 id="concept">Concept</h2>

<p>As Gary introduced it to me<sup class="footnote-ref" id="fnref:1"><a rel="footnote" href="#fn:1">1</a></sup>, it is a phase that might appear after refactor.</p>

<p>It is about changing the outside design without changing the expected behavior. I thought this was also included in the refactor phase.</p>

<h2 id="how-i-do-redesign">How I do redesign</h2>

<p>I usually do this &ldquo;changing of the outside design&rdquo; by applying a series of refactors <sup class="footnote-ref" id="fnref:2"><a rel="footnote" href="#fn:2">2</a></sup> to the production code but not changing the test code; using a bridge / adapter to get to the new API from the old one. Later you can inline the scaffold and use the new API directly.</p>

<p>The same for the test code: when you want to change design in the test code, do not modify production code (a.k.a. model code).</p>

<h2 id="other-thoughts">Other thoughts</h2>

<p>Merriam-Webster defines &ldquo;<a href="http://www.merriam-webster.com/dictionary/redesign" target="_blank">redesign</a>&rdquo; as</p>

<blockquote>
<p>to change the design of (something)</p>
</blockquote>

<p>or</p>

<blockquote>
<p>to revise in appearance, function, or content</p>
</blockquote>

<p>an example:</p>

<blockquote>
<p>The book&rsquo;s cover has been redesigned for the new edition.</p>
</blockquote>

<p>The Refactoring book (by Martin Fowler) describes &ldquo;refactoring&rdquo; as</p>

<blockquote>
<p>Refactoring is the process of changing a software system in such a way that it does not alter the external behavior of the code yet improves its internal structure</p>
</blockquote>

<p>Taken literally, the public API is not internal but external structure, so changing it, should belong to a phase that is not refactor (see definition), nor red (no failing tests), not green (making it pass). Maybe this phase is &ldquo;redesign&rdquo; or we have to take the refactoring phase less literally so it includes redesign. Any thoughts?</p>

<h2 id="other-references">Other references</h2>

<p>I&rsquo;ve searched for redesign and refactor and <a href="https://practicingruby.com/articles/refactoring-is-not-redesign" target="_blank">this blog post</a> came up. They cite redesign as a way of rewriting</p>

<p><a href="http://stackoverflow.com/a/80758/1181094" target="_blank">This answer</a> and the <a href="http://stackoverflow.com/a/80758/1181094" target="_blank">original question</a> in StackOverflow is interesting</p>

<p>Redesign also appears cited in <a href="http://blog.testdouble.com/posts/2014-01-25-the-failures-of-intro-to-tdd.html" target="_blank">this blog post</a></p>
<div class="footnotes">

<hr />

<ol>
<li id="fn:1">Excuse me if you explained it differently and I understand it wrong; you can always open a pull request to fix it <a href="https://github.com/alvarogarcia7/blog_source/tree/source/source/_posts" target="_blank">here</a>
 <a class="footnote-return" href="#fnref:1"><sup>[return]</sup></a></li>
<li id="fn:2">thanks for the clarifying refactor vs refactoring <a href="http://blog.4mm.co.uk/2012/12/11/pet-peeve-726.html" target="_blank">here</a>
 <a class="footnote-return" href="#fnref:2"><sup>[return]</sup></a></li>
</ol>
</div>

        

    </article>
    
    <article>

        
        

<header>
    <h1 class="entry-title">
        <a href="https://alvarogarcia7.github.io/blog/2015/04/12/experience-report-test-driven-development-intensive-by-jason-gorman/">Experience report: Test-driven development intensive, by Jason Gorman</a>
    </h1>
    <p>Apr 12, 2015
         - 8 minute read 
         - <a href="https://alvarogarcia7.github.io/blog/2015/04/12/experience-report-test-driven-development-intensive-by-jason-gorman/#disqus_thread">Comments</a>

        
        
        
            - <a class="label" href="https://alvarogarcia7.github.io/categories/training/">training</a><a class="label" href="https://alvarogarcia7.github.io/categories/workshop/">workshop</a><a class="label" href="https://alvarogarcia7.github.io/categories/experience-report/">experience-report</a><a class="label" href="https://alvarogarcia7.github.io/categories/jason-gorman/">jason-gorman</a><a class="label" href="https://alvarogarcia7.github.io/categories/uk/">uk</a><a class="label" href="https://alvarogarcia7.github.io/categories/tdd/">tdd</a><a class="label" href="https://alvarogarcia7.github.io/categories/crc-card/">crc-card</a><a class="label" href="https://alvarogarcia7.github.io/categories/pair-programming/">pair-programming</a>
        
    </p>
</header>


        
        

<p>This is an experience report on <a href="http://twitter.com/@jasongorman" target="_blank">Jason Gorman</a>&rsquo;s &ldquo;<a href="http://www.codemanship.co.uk/tdd.html" target="_blank">Test-driven development intensive workshop</a>&rdquo; on the April 11th, 2015</p>

<p>I attended this training in the <a href="http://www.grenfell-housing.co.uk/" target="_blank">Greenfell housing &amp; training</a> in South Wimbledon, London SW19 1JZ. The training spanned from 10:00 to 17:00 with a half an hour for lunch plus three or four 10-15 minute pauses. (7 - ,5 - 4 * 12/60 = ~5.7hours = 5 hours 45 minutes)</p>

<h2 id="introduction">Introduction</h2>

<p>There were 23 of us, including me. We spent some half hour introducing ourselves before the training started. I remember about a tester that came to the workshop &ldquo;wanting to know more about this testing methodology&rdquo;. Jason&rsquo;s answer was priceless: &ldquo;I&rsquo;m sorry but you came to the wrong place: this is not about testing&rdquo;.
<!--
(See more on this topic [here][tdd-is-not-a-good-name])
--></p>

<p>At 10:00 sharp, he started a set of slides explaining what TDD is about, including:</p>

<ul>
<li>productivity:

<ul>
<li>no company is willing to give you a &ldquo;get out of jail free&rdquo; card to get out of the productivity zone</li>
<li>a drop in the productivity, at least for the first weeks</li>
<li>you have to find a time slot in your schedule to practice TDD, otherwise it&rsquo;s like learning to swim while crossing the Atlantic Ocean</li>
</ul></li>
<li>You have to feel uncomfortable not doing TDD</li>
<li>triangulation:

<ul>
<li>how each problem is different</li>
<li>you can only learn it by doing</li>
</ul></li>
<li>TDD styles:

<ul>
<li>Chicago style by Kent Beck. Reference book would be &ldquo;<a href="http://www.amazon.com/Test-Driven-Development-By-Example/dp/0321146530" target="_blank">TDD by example</a>&ldquo;</li>
<li>London school or Mockist style by Steve Freeman and Nat Pryce. Reference book would be <a href="http://www.growing-object-oriented-software.com/" target="_blank">&ldquo;Growing object oriented software, guided by tests</a>&ldquo;</li>
</ul></li>
<li>13 good habits for a sustainable test-driven development way</li>
<li>The basic TDD cycle:

<ul>
<li>an executable specification, encoded in a failing test</li>
<li>pass the test in the simplest way</li>
<li>refactor</li>
<li>(talking with another attendee, he described to me a new TDD phase called redesign. Maybe another post will explain this in deeper detail level)</li>
</ul></li>
<li>Some ideas about <a href="http://www.extremeprogramming.org/rules/simple.html" target="_blank">Simple design, simple development, simplicity</a> (<a href="http://www.extremeprogramming.org" target="_blank">XP</a>)</li>
<li>Shown a wrong example of mixing assertions (state) and verifications (interactions)</li>
<li>More than one reason to go wrong makes the code non-trivial anymore. Non-trivial code requires tests</li>
<li>You want to see the test failing for the right reason: remove / finish code that does not compile, fix null pointers, array out of bounds exceptions, etc. See it fail with &ldquo;was <X> but expected <Y>&rdquo; or &ldquo;NoInteractionException&rdquo; (hamcrest error and mockito error, respectively; both java)</li>
<li>Duplication as a sign of design smell</li>
<li>Process of generalizing code: discover the need for patterns</li>
<li>The most difficult skill in TDD is refactoring [and design; note is mine]. The TDD cycle is very easy.

<ul>
<li>TDD is much more in demand than refactoring, even though the former includes the latter</li>
</ul></li>
<li>Refactor until you&rsquo;re happy with the code, until you stand by it</li>
</ul>

<h2 id="crc-cards">CRC Cards</h2>

<p>A <a href="http://en.wikipedia.org/wiki/Class-responsibility-collaboration_card" target="_blank">Class-responsibility-collaboration card</a> is as follows:</p>

<ul>
<li>top: class name</li>
<li>half left: responsibilities</li>
<li>half right: collaborations</li>
</ul>

<p>Notes from the slides:</p>

<ul>
<li>each then is an outcome

<ul>
<li>do not mix outcomes and implications. An example: after winning the lottery, the money should be transferred to my bank account and I can buy a yacht. The former is an outcome (change in state) and the latter an implication (a new action that is now enabled)</li>
<li>an outcome is mapped to an assertion, while a collaboration is mapped to an interaction (verify in mockito)</li>
</ul></li>
<li>Given / When / Then is not enough to implement an executable specification. We need examples, detail</li>
<li>OO: send messages to distribute responsibility.

<ul>
<li>A Then is an unique responsibility</li>
</ul></li>
<li>Topmost object: no one connects with it</li>
<li>Put the work where the data is</li>
<li>Tell, don&rsquo;t ask <sup class="footnote-ref" id="fnref:1"><a rel="footnote" href="#fn:1">1</a></sup> vs data driven design (tell a collaborator what to do vs ask for values and do the work yourself)</li>
<li>You want as few interactions as possible (related to the tell, don&rsquo;t ask)</li>
<li>More objects than outcomes is a bad thing (design smell) (?)</li>
<li>CRC is a very mechanical exercise, do not over think it</li>
<li>Describe outcomes as changes in OO (new, destroy, relationships, modify fields / state)</li>
<li>Continuous integration is not necessarily about shipping the code at each commit but having it shippable at each commit, as always having a product that is ready for its production phase</li>
</ul>

<h2 id="exercises">Exercises</h2>

<p>All exercises were done in pairs, always switching one half of the pair. He asked for someone in the pair to raise, especially if you were not a programmer (e.g., tester, manager)</p>

<h3 id="first-exercise-banking">First exercise: Banking</h3>

<blockquote>
<p>Write a program that is capable of transferring money from an account to another</p>
</blockquote>

<p>A chance to practice arrange, act, assert</p>

<p>Later, he did it some live coding to develop the same kata, practicing &ldquo;<a href="http://www.infoq.com/presentations/TDD-as-if-You-Meant-It" target="_blank">TDD as if you meant it</a>&rdquo; (<a href="https://twitter.com/keithb_b" target="_blank">Keith Braithwaite</a>&rsquo;s original idea). We discovered together the &ldquo;primitive obsession&rdquo; and &ldquo;feature envy&rdquo; smells. We tried doing as few decisions as possible.</p>

<h3 id="second-exercise-fibonacci-sequence-generator">Second exercise: Fibonacci sequence generator</h3>

<blockquote>
<p>Write a program that is capable of generating Fibonacci sequences, no shorter that 8 and no longer than 50</p>
</blockquote>

<p>A chance to practice baby steps.</p>

<p>My pair and I had the chance of discovering the importance of understanding correctly the requirements before writing a line of code. Also, I learned about the different ways of doing TDD. In this case, my pair executed the tests via a main (java class) and saw the failures on the console. When proposed to do it in the JUnit runner the IDE has, he said he preferred it in his own ways.</p>

<p>Jason did some live coding to show how he approached and triangulated this exercise.</p>

<p>I really liked some of what he said: I like to make the API correct from the first moment so I will ask questions that are correct but only check answers for things that I have already implemented. Example:</p>

<p>As the generated sequence can only have <code>8 &lt;= x &lt;= 50</code> elements, a list returning a single element would not be correct. So</p>
<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="c1">//class FibonacciTests</span>
<span class="nd">@Test</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">theFirstElementIsOne</span><span class="o">(){</span>
	<span class="n">assertThat</span><span class="o">(</span><span class="k">new</span> <span class="n">FibonacciSequence</span><span class="o">().</span><span class="na">generate</span><span class="o">(</span><span class="mi">8</span><span class="o">)[</span><span class="mi">0</span><span class="o">],</span> <span class="n">is</span><span class="o">(</span><span class="mi">1</span><span class="o">));</span>
<span class="o">}</span>
</code></pre></div>

<h3 id="third-exercise-fizzbuzz">Third exercise: FizzBuzz</h3>

<blockquote>
<p>Write a program that is capable of returning a string with all numbers less than 100 that are using the FizzBuzz pattern. This FizzBuzz pattern converts the divisors of 3 to &lsquo;fizz&rsquo;, divisors of 5 to &lsquo;buzz&rsquo; and divisors to both to &lsquo;fizzbuzz&rsquo;</p>
</blockquote>

<p>I discovered that this FizzBuzz is a drinking game in the UK.</p>

<h3 id="fourth-exercise-crc-cards">Fourth exercise: CRC cards</h3>

<p>Before this exercise there was a short introduction on <a href="http://en.wikipedia.org/wiki/Class-responsibility-collaboration_card" target="_blank">Class-responsibility-collaboration card</a>, explained above</p>

<p>Following an example about a movie library, there were six user stories, described at high level, without acceptance criteria.</p>

<p>We had to create an acceptance criteria for this user story. Later create a set of CRC cards and finally partially implement said feature.</p>

<p>Very interesting exercise, such a pity that there wasn&rsquo;t more time to complete this exercise or see him doing it</p>

<h2 id="knowledge-pearls">Knowledge pearls</h2>

<p>He dropped some knowledge pearls (that I&rsquo;m going to use myself):</p>

<pre><code>Q: When are you done with TDD?
A: When you can not think of more tests for your suite
</code></pre>

<pre><code>Q: What do we do after TDD?
A: (No answer)
Q: Starts with &quot;T&quot;. Any idea?
A: Testing. Test for the purpose of testing, not TDD
</code></pre>

<p>Close concepts interested in responsibilities:</p>

<ul>
<li>Conceptual diagram and class diagram</li>
<li>Instance diagram</li>
<li>Knowledge map and tag cloud</li>
</ul>

<p>Regarding legacy code:</p>

<ul>
<li>Isolate big balls of mud into parts and test these as end-to-end. Also connected to isolating groups of nodes into the class graph</li>
<li>Understand what the code does, not the architecture</li>
<li>Do not use a mock to help you test legacy code, use it just as a design tool. (It might be a good idea to use it temporarily while you refactor, but remove it afterwards)</li>
<li>Tests with mocks double down on the design: if it is broken, it will be a drag more than help</li>
</ul>

<p>Test on the boundaries. Many times we test in the middle of the algorithm but forget the boundaries, where many special cases hide</p>

<p>The GOOS book is pronounced like the goose animal (&ldquo;/g√∫s/&rdquo;) in English</p>

<p>He said he never copy pastes <sup class="footnote-ref" id="fnref:2"><a rel="footnote" href="#fn:2">2</a></sup>.</p>

<h2 id="conclusions">Conclusions</h2>

<ul>
<li>This is a two day workshop condensed on a single day. It shows. In my opinion, it would be better to do fewer exercises and dig deeper in them rather than try so many approaches / exercises</li>
<li>The CRC exercise was well thought and really massaged. It touches the right spots and makes you want to learn more about the subject</li>
<li>Promiscuously pairing is always a good idea, as you don&rsquo;t know what level have your attendees. Get stuck for the whole day with someone who has a (very) different knowledge level than you might spoil the workshop</li>
<li>I don&rsquo;t see the benefit of doing the fizzbuzz kata after having done the Fibonacci sequence one</li>
<li>In my opinion, there were too many breaks. Doing a break in the morning (10-15 mins), lunch (30 mins) and afternoon (10-15 mins) is enough</li>
</ul>

<p>On a personal note:</p>

<ul>
<li>It is not enough to attend the workshop. You have to take notes and study them at home later. (Thanks <a href="http://spines.me" target="_blank">spines</a> for this lesson)</li>
<li>I really had a great time, learned a lot, even though I already know something about TDD</li>
<li>Met very interesting people</li>
<li>Would attend to the workshop again
<br /></li>
</ul>

<p>In general, I&rsquo;d like to thank Jason and the other attendees for making this workshop possible. I had a blast there.</p>
<div class="footnotes">

<hr />

<ol>
<li id="fn:1">As described by <a href="http://martinfowler.com/bliki/TellDontAsk.html" target="_blank">Martin Fowler</a> and the <a href="https://pragprog.com/articles/tell-dont-ask" target="_blank">Pragmatic Bookshelf</a>
 <a class="footnote-return" href="#fnref:1"><sup>[return]</sup></a></li>
<li id="fn:2">Copy pasting this post&rsquo;s structure resulted in a wrong title that had to be fixed. Maybe the extra effort of not copy pasting has a good ROI, as long as you do not copy paste by typing the text you&rsquo;re reading from somewhere else
 <a class="footnote-return" href="#fnref:2"><sup>[return]</sup></a></li>
</ol>
</div>

        

    </article>
    
    <article>

        
        

<header>
    <h1 class="entry-title">
        <a href="https://alvarogarcia7.github.io/blog/2015/04/02/trimming-your-plants/">Trimming your plants</a>
    </h1>
    <p>Apr 2, 2015
         - 2 minute read 
         - <a href="https://alvarogarcia7.github.io/blog/2015/04/02/trimming-your-plants/#disqus_thread">Comments</a>

        
        
        
            - <a class="label" href="https://alvarogarcia7.github.io/categories/growing-software/">growing-software</a><a class="label" href="https://alvarogarcia7.github.io/categories/trimming/">trimming</a><a class="label" href="https://alvarogarcia7.github.io/categories/agriculture/">agriculture</a><a class="label" href="https://alvarogarcia7.github.io/categories/gardening/">gardening</a><a class="label" href="https://alvarogarcia7.github.io/categories/software/">software</a><a class="label" href="https://alvarogarcia7.github.io/categories/refactor/">refactor</a><a class="label" href="https://alvarogarcia7.github.io/categories/refactoring/">refactoring</a><a class="label" href="https://alvarogarcia7.github.io/categories/goos/">goos</a>
        
    </p>
</header>


        
        

<p>This post belongs to the <a href="/{{site.category_dir}}/growing-software">growing-software series</a></p>

<p>Imagine this situation: the code works. You are at <a href="https://github.com/alvarogarcia7/refactoring_a-first-example/commit/1ff7df4d45ee1ac5bc483b90da7ed1b68f27aef9" target="_blank">this stage</a></p>

<p>Disregarding the tests, the production code is complete. Could be better, but it is ready if you are in a hurry.</p>

<p>Now, picture your test as a plant in a plant pot: it might be healthy on the outside (external quality) but how are their roots (internal quality)?</p>

<p>Do you imagine them in an ordered fashion or in a jungle of roots? Everything on the outside is connected to one or several roots? In case it is several, what / how much do they share?</p>

<h2 id="trimming-the-roots">Trimming the roots</h2>

<p>Now, let&rsquo;s imagine you want to put the plant in a different plant pot. You don&rsquo;t want the plant to be altered in any way: keep producing fruits as it was before, as green and shiny, etc. Just alter the container for business reasons.</p>

<p>The more tidy and organized the roots are related to the outside plant itself, the easier it is to reshape (or refactor) it.</p>

<p>So this is exactly what refactoring is about: &ldquo;keeping the same external behaviour, modifying the internal structure&rdquo;. I like to explain as &ldquo;modify how it is done but not what it does&rdquo;.</p>

<p>When you trim the roots but leave unaltered the top, you are making it cheaper to modify the internal shape without affecting the rest. The plant will continue to grow, requiring more and more nutrients from the ground. Small increases that do not warrant a bigger plant pot, as the current one can withstand the new requirements.</p>

<p>This is where the analogy is no longer useful: when writing software, you&rsquo;re also making it easier to reuse, modify and maintain.</p>

<h3 id="conclusion">Conclusion</h3>

<p>The more tidied up you have your plants, the cheaper to maintain and modify.</p>

<p>Software implementation details are like roots: they expand to find any small hole where to expand. Even to scaffold expected behaviour</p>

<p>Trim your plants early and often, always with the help of a test suite</p>

        

    </article>
    
    
    




<div class="pagination">

    
        
        
        
        <a href="/blog/" aria-label="First" class="label-pagination"><i class="fa fa-angle-double-left fa-lg"></i></a>
    

    
    
        <a href="/blog/page/15/" aria-label="Previous" class="label-pagination"><i class="fa fa-angle-left fa-lg"></i></a>
    

    
        <a href="/blog/" class="label-pagination">1</a>
    
        <a href="/blog/page/2/" class="label-pagination">2</a>
    
        <a href="/blog/page/3/" class="label-pagination">3</a>
    
        <a href="/blog/page/4/" class="label-pagination">4</a>
    
        <a href="/blog/page/5/" class="label-pagination">5</a>
    
        <a href="/blog/page/6/" class="label-pagination">6</a>
    
        <a href="/blog/page/7/" class="label-pagination">7</a>
    
        <a href="/blog/page/8/" class="label-pagination">8</a>
    
        <a href="/blog/page/9/" class="label-pagination">9</a>
    
        <a href="/blog/page/10/" class="label-pagination">10</a>
    
        <a href="/blog/page/11/" class="label-pagination">11</a>
    
        <a href="/blog/page/12/" class="label-pagination">12</a>
    
        <a href="/blog/page/13/" class="label-pagination">13</a>
    
        <a href="/blog/page/14/" class="label-pagination">14</a>
    
        <a href="/blog/page/15/" class="label-pagination">15</a>
    
        <a href="/blog/page/16/" class="label-pagination">16</a>
    
        <a href="/blog/page/17/" class="label-pagination">17</a>
    
        <a href="/blog/page/18/" class="label-pagination">18</a>
    
        <a href="/blog/page/19/" class="label-pagination">19</a>
    
        <a href="/blog/page/20/" class="label-pagination">20</a>
    
        <a href="/blog/page/21/" class="label-pagination">21</a>
    
        <a href="/blog/page/22/" class="label-pagination">22</a>
    
        <a href="/blog/page/23/" class="label-pagination">23</a>
    

    
    
        <a href="/blog/page/17/" aria-label="Next" class="label-pagination"><i class="fa fa-angle-right fa-lg"></i></a>
    

    
    
        <a href="/blog/page/23/" aria-label="Last"><i class="fa fa-angle-double-right fa-lg"></i></a>
    

</div>

  

  </div>

  

<aside class="sidebar thirds">
  <section class="first odd">

    
      <h1>About this blog</h1>
    

    <p>
      
        This blog contains two sections: <a href="/breadcrumbs/">breadcrumbs</a> (my learnings) and <a href="/articles/">articles</a> (might be useful for others).
        <br>
        <br>
         You can find me on:
      
    </p>
  </section>



  
  <ul class="sidebar-nav">
    <li class="sidebar-nav-item">
      <a target="_blank" href="https://github.com/alvarobiz/" title="https://github.com/alvarobiz/"><i class="fa fa-github fa-3x"></i></a>
      
      <a target="_blank" href="https://twitter.com/@alvarobiz/" title="https://twitter.com/@alvarobiz/"><i class="fa fa-twitter fa-3x"></i></a>
       
      <a target="_blank" href="https://es.linkedin.com/in/alvarogarcia7" title="https://es.linkedin.com/in/alvarogarcia7"><i class="fa fa-linkedin fa-3x"></i></a>
      
      
      
      

    
    
    </li>
  </ul>

  

  

  
  
  
    <section class="even">
      <h1>Recent Posts</h1>
      <ul id="recent_posts">
        
          <li class="post">
            <a href="/blog/2016/06/30/books-read-in-2016q2/">Books read in 2016Q2</a>
          </li>
        
          <li class="post">
            <a href="/blog/2016/06/10/the-role-of-a-software-consultant/">The role of a software consultant</a>
          </li>
        
          <li class="post">
            <a href="/blog/2016/06/10/unwritten-principles-for-coaching-a-quote/">Unwritten principles for coaching, a quote</a>
          </li>
        
          <li class="post">
            <a href="/blog/2016/06/01/self-study-in-june-2016/">Self-Study in June 2016</a>
          </li>
        
          <li class="post">
            <a href="/blog/about/">About Alvaro Garcia</a>
          </li>
        
          <li class="post">
            <a href="/blog/2016/05/01/self-study-in-may-2016/">Self-Study in May 2016</a>
          </li>
        
          <li class="post">
            <a href="/blog/2016/04/18/quote-characterization-tests/">Quote: Characterization tests</a>
          </li>
        
          <li class="post">
            <a href="/blog/2016/04/18/brownish-greenfield-gilded-rose-kata/">Brownish Greenfield Gilded Rose Kata</a>
          </li>
        
          <li class="post">
            <a href="/blog/2016/04/17/faster-site-generation-with-a-native-octopress-2/">Faster site generation with a native Octopress 2</a>
          </li>
        
          <li class="post">
            <a href="/blog/2016/04/01/self-study-in-april-2016/">Self-Study in April 2016</a>
          </li>
        
      </ul>
    </section>
  

</aside>
    
 </div>
</div>

<footer role="contentinfo">
  <p>Copyright &copy; 2016 Alvaro Garcia - <a href="https://alvarogarcia7.github.io/license/">License</a> -
  <span class="credit">Powered by <a target="_blank" href="https://gohugo.io">Hugo</a> and <a target="_blank" href="https://github.com/parsiya/hugo-octopress/">Hugo-Octopress</a> theme.
</p>

</footer>


<script>
  var _gaq=[['_setAccount','UA-41008374-3'],['_trackPageview']];
  (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
  g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
  s.parentNode.insertBefore(g,s)}(document,'script'));
</script>

</body>
</html>
   
